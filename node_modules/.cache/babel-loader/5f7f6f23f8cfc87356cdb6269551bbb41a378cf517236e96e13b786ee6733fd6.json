{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar OptionContext = /** @class */function () {\n  function OptionContext(options) {\n    this.stateChangeListeners = new Set();\n    this.valueChangeListeners = new Set();\n    this._state = {};\n    this._data = {};\n    this._options = options;\n    for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n      var option = options_1[_i];\n      this._state[option.key] = {\n        key: option.key,\n        available: 0,\n        options: []\n      };\n    }\n  }\n  Object.defineProperty(OptionContext.prototype, \"options\", {\n    get: function () {\n      return this._options;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(OptionContext.prototype, \"state\", {\n    get: function () {\n      return this._state;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  OptionContext.prototype.addStateChangeListener = function (listener) {\n    this.stateChangeListeners.add(listener);\n  };\n  OptionContext.prototype.removeStateChangeListener = function (listener) {\n    this.stateChangeListeners.delete(listener);\n  };\n  OptionContext.prototype.addValueChangeListener = function (listener) {\n    this.valueChangeListeners.add(listener);\n  };\n  OptionContext.prototype.removeValueChangeListener = function (listener) {\n    this.valueChangeListeners.delete(listener);\n  };\n  OptionContext.prototype.optionEnter = function (key) {\n    var _a;\n    // TODO:\n    var optionState = this.getOptionState(key);\n    this.setState((_a = {}, _a[key] = __assign(__assign({}, optionState), {\n      available: optionState.available + 1\n    }), _a));\n  };\n  OptionContext.prototype.optionExit = function (key) {\n    var _a;\n    var optionState = this.getOptionState(key);\n    this.setState((_a = {}, _a[key] = __assign(__assign({}, optionState), {\n      available: optionState.available - 1\n    }), _a));\n  };\n  OptionContext.prototype.getOptionState = function (key) {\n    return this.state[key] || null;\n  };\n  OptionContext.prototype.getValue = function (key) {\n    var optionState = this.getOptionState(key);\n    if (!optionState) {\n      return null;\n    }\n    var value = this._data[key];\n    if (value) {\n      return value;\n    }\n    return optionState.defaultValue || null;\n  };\n  OptionContext.prototype.setValue = function (key, value) {\n    for (var _i = 0, _a = Array.from(this.valueChangeListeners); _i < _a.length; _i++) {\n      var listener = _a[_i];\n      listener(key, value);\n    }\n  };\n  // set single source of truth\n  OptionContext.prototype.setData = function (data) {\n    this._data = data;\n    this.notifyListener();\n  };\n  OptionContext.prototype.setDefaultValue = function (key, defaultValue) {\n    var _a;\n    var optionState = this.getOptionState(key);\n    this.setState((_a = {}, _a[key] = __assign(__assign({}, optionState), {\n      defaultValue: defaultValue\n    }), _a));\n  };\n  OptionContext.prototype.setOptions = function (key, options) {\n    var _a;\n    this.setState((_a = {}, _a[key] = __assign(__assign({}, this.state[key]), {\n      key: key,\n      options: options\n    }), _a));\n  };\n  OptionContext.prototype.setState = function (state) {\n    this._state = __assign(__assign({}, this.state), state);\n    this.notifyListener();\n  };\n  OptionContext.prototype.notifyListener = function () {\n    for (var _i = 0, _a = Array.from(this.stateChangeListeners); _i < _a.length; _i++) {\n      var listener = _a[_i];\n      listener();\n    }\n  };\n  return OptionContext;\n}();\nexports.default = OptionContext;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","OptionContext","options","stateChangeListeners","Set","valueChangeListeners","_state","_data","_options","_i","options_1","option","key","available","get","enumerable","configurable","addStateChangeListener","listener","add","removeStateChangeListener","delete","addValueChangeListener","removeValueChangeListener","optionEnter","_a","optionState","getOptionState","setState","optionExit","state","getValue","defaultValue","setValue","Array","from","setData","data","notifyListener","setDefaultValue","setOptions","default"],"sources":["C:/Users/9204r/.cursor/avatar/node_modules/avataaars2/dist/options/OptionContext.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar OptionContext = /** @class */ (function () {\n    function OptionContext(options) {\n        this.stateChangeListeners = new Set();\n        this.valueChangeListeners = new Set();\n        this._state = {};\n        this._data = {};\n        this._options = options;\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            this._state[option.key] = {\n                key: option.key,\n                available: 0,\n                options: []\n            };\n        }\n    }\n    Object.defineProperty(OptionContext.prototype, \"options\", {\n        get: function () {\n            return this._options;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(OptionContext.prototype, \"state\", {\n        get: function () {\n            return this._state;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    OptionContext.prototype.addStateChangeListener = function (listener) {\n        this.stateChangeListeners.add(listener);\n    };\n    OptionContext.prototype.removeStateChangeListener = function (listener) {\n        this.stateChangeListeners.delete(listener);\n    };\n    OptionContext.prototype.addValueChangeListener = function (listener) {\n        this.valueChangeListeners.add(listener);\n    };\n    OptionContext.prototype.removeValueChangeListener = function (listener) {\n        this.valueChangeListeners.delete(listener);\n    };\n    OptionContext.prototype.optionEnter = function (key) {\n        var _a;\n        // TODO:\n        var optionState = this.getOptionState(key);\n        this.setState((_a = {},\n            _a[key] = __assign(__assign({}, optionState), { available: optionState.available + 1 }),\n            _a));\n    };\n    OptionContext.prototype.optionExit = function (key) {\n        var _a;\n        var optionState = this.getOptionState(key);\n        this.setState((_a = {},\n            _a[key] = __assign(__assign({}, optionState), { available: optionState.available - 1 }),\n            _a));\n    };\n    OptionContext.prototype.getOptionState = function (key) {\n        return this.state[key] || null;\n    };\n    OptionContext.prototype.getValue = function (key) {\n        var optionState = this.getOptionState(key);\n        if (!optionState) {\n            return null;\n        }\n        var value = this._data[key];\n        if (value) {\n            return value;\n        }\n        return optionState.defaultValue || null;\n    };\n    OptionContext.prototype.setValue = function (key, value) {\n        for (var _i = 0, _a = Array.from(this.valueChangeListeners); _i < _a.length; _i++) {\n            var listener = _a[_i];\n            listener(key, value);\n        }\n    };\n    // set single source of truth\n    OptionContext.prototype.setData = function (data) {\n        this._data = data;\n        this.notifyListener();\n    };\n    OptionContext.prototype.setDefaultValue = function (key, defaultValue) {\n        var _a;\n        var optionState = this.getOptionState(key);\n        this.setState((_a = {},\n            _a[key] = __assign(__assign({}, optionState), { defaultValue: defaultValue }),\n            _a));\n    };\n    OptionContext.prototype.setOptions = function (key, options) {\n        var _a;\n        this.setState((_a = {},\n            _a[key] = __assign(__assign({}, this.state[key]), { key: key, options: options }),\n            _a));\n    };\n    OptionContext.prototype.setState = function (state) {\n        this._state = __assign(__assign({}, this.state), state);\n        this.notifyListener();\n    };\n    OptionContext.prototype.notifyListener = function () {\n        for (var _i = 0, _a = Array.from(this.stateChangeListeners); _i < _a.length; _i++) {\n            var listener = _a[_i];\n            listener();\n        }\n    };\n    return OptionContext;\n}());\nexports.default = OptionContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}