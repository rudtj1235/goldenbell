{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\9204r\\\\.cursor\\\\avatar\\\\src\\\\components\\\\NewAdminPanel.tsx\",\n  _s = $RefreshSig$();\n/**\n * 새로운 모듈 기반 관리자 패널\n * 실시간 동기화와 참여자 현황 관리\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useNewGameContext } from '../contexts/NewGameContext';\nimport Avatar from 'avataaars2';\nimport QuestionModal from './QuestionModal';\nimport QuestionStack from './QuestionStack';\nimport eventBus from '../services/EventBus';\nimport roomManager from '../services/RoomManager';\nimport syncManager from '../services/SyncManager';\nimport './AdminPanel.css';\nimport LeaderboardModal from './Leaderboard';\nimport AiQuestionModal from './AiQuestionModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewAdminPanel = () => {\n  _s();\n  const [showQuestionModal, setShowQuestionModal] = useState(false);\n  const {\n    state,\n    actions\n  } = useNewGameContext();\n  const navigate = useNavigate();\n  const {\n    room,\n    questions,\n    players,\n    gameState,\n    currentQuestionIndex,\n    gameSettings,\n    hasStarted,\n    isLoading\n  } = state;\n\n  // 호스트 활동 주기적 업데이트\n  useEffect(() => {\n    if (!room) {\n      // 초기 하이드레이션 중에는 리다이렉트하지 않음\n      if (isLoading) return;\n      return;\n    }\n\n    // 초기 호스트 활동 등록\n    actions.updateHostActivity(room.code);\n\n    // 주기적으로 호스트 활동 업데이트 (5초마다)\n    const activityInterval = setInterval(() => {\n      actions.updateHostActivity(room.code);\n    }, 5000);\n\n    // 이벤트 리스너 등록\n    const unsubscribers = [eventBus.on('PLAYER_JOIN', handlePlayerJoin), eventBus.on('PLAYER_LEAVE', handlePlayerLeave), eventBus.on('GAME_STATE_CHANGE', handleGameStateChange), eventBus.on('ROOM_DELETED', handleRoomDeleted)];\n\n    // 페이지 언로드 시 호스트 비활성 (10초 후 삭제 타이머 작동)\n    const handleBeforeUnload = () => {\n      try {\n        roomManager.markHostInactive(room.code);\n      } catch {}\n    };\n    window.addEventListener('beforeunload', handleBeforeUnload);\n    return () => {\n      clearInterval(activityInterval);\n      unsubscribers.forEach(unsub => unsub());\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n      // StrictMode 이중 마운트로 인한 즉시 삭제 방지: cleanup에서는 삭제하지 않음\n    };\n  }, [room, actions, navigate, isLoading]);\n\n  // 진행 로직은 컨텍스트에서 단일 스케줄러가 담당하므로, 관리자 페이지에서는 보조 타이머를 두지 않습니다.\n\n  const handlePlayerJoin = player => {\n    console.log('👤 새 참여자:', player.nickname);\n  };\n  const handlePlayerLeave = playerId => {\n    console.log('👤 참여자 퇴장:', playerId);\n  };\n  const handleGameStateChange = data => {\n    console.log('🎮 게임 상태 변경:', data);\n  };\n  const handleRoomDeleted = roomCode => {\n    if ((room === null || room === void 0 ? void 0 : room.code) === roomCode) {\n      alert('방이 삭제되었습니다.');\n      navigate('/');\n    }\n  };\n  const handleDeleteQuestion = questionId => {\n    actions.deleteQuestion(questionId);\n  };\n  const handleReorderQuestions = reorderedQuestions => {\n    actions.reorderQuestions(reorderedQuestions);\n  };\n  const handleStartGame = () => {\n    if (questions.length === 0) {\n      alert('문제를 먼저 추가해주세요.');\n      return;\n    }\n    actions.startGame();\n  };\n  const handlePauseGame = () => {\n    actions.pauseGame();\n  };\n  const handleResumeGame = () => {\n    actions.resumeGame();\n  };\n  const handleSubmitQuestion = () => {\n    actions.nextQuestion();\n  };\n  const handleRevealAnswer = () => {\n    actions.showAnswer();\n  };\n  const handleGameSettingsChange = newSettings => {\n    actions.updateGameSettings(newSettings);\n  };\n  const [showLeaderboard, setShowLeaderboard] = useState(false);\n  const handleShowLeaderboard = () => setShowLeaderboard(true);\n  const [showAiModal, setShowAiModal] = useState(false);\n  const fileInputRef = useRef(null);\n  const toCsvValue = value => {\n    const str = value === undefined || value === null ? '' : String(value);\n    if (/[\",\\n]/.test(str)) {\n      return '\"' + str.replace(/\"/g, '\"\"') + '\"';\n    }\n    return str;\n  };\n  const handleDownloadQuestions = () => {\n    if (!questions || questions.length === 0) {\n      alert('다운로드할 문제가 없습니다.');\n      return;\n    }\n    if (!window.confirm('현재 문제 세트를 파일로 저장하시겠습니까?')) return;\n    const headers = ['type', 'question', 'score', 'timeLimit', 'options', 'correctAnswer'];\n    const rows = questions.map(q => {\n      const options = Array.isArray(q.options) ? JSON.stringify(q.options) : '';\n      return [q.type, q.question, typeof q.score === 'number' ? q.score : 10, typeof q.timeLimit === 'number' ? q.timeLimit : gameSettings.timeLimit, options, q.correctAnswer];\n    });\n    const csv = [headers.map(toCsvValue).join(','), ...rows.map(r => r.map(toCsvValue).join(','))].join('\\n');\n    const blob = new Blob([csv], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    const date = new Date().toISOString().slice(0, 10);\n    a.download = `goldenbell_questions_${(room === null || room === void 0 ? void 0 : room.code) || 'room'}_${date}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  const handleUploadClick = () => {\n    var _fileInputRef$current;\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const parseCsv = text => {\n    const rows = [];\n    let cur = [];\n    let val = '';\n    let inQuotes = false;\n    for (let i = 0; i < text.length; i++) {\n      const ch = text[i];\n      if (inQuotes) {\n        if (ch === '\"') {\n          if (text[i + 1] === '\"') {\n            val += '\"';\n            i++;\n          } else {\n            inQuotes = false;\n          }\n        } else {\n          val += ch;\n        }\n      } else {\n        if (ch === '\"') {\n          inQuotes = true;\n        } else if (ch === ',') {\n          cur.push(val);\n          val = '';\n        } else if (ch === '\\n' || ch === '\\r') {\n          if (val !== '' || cur.length > 0) {\n            cur.push(val);\n            rows.push(cur);\n            cur = [];\n            val = '';\n          }\n          // handle \\r\\n by skipping next if needed\n          if (ch === '\\r' && text[i + 1] === '\\n') i++;\n        } else {\n          val += ch;\n        }\n      }\n    }\n    if (val !== '' || cur.length > 0) {\n      cur.push(val);\n      rows.push(cur);\n    }\n    return rows.filter(r => r.some(c => String(c).trim() !== ''));\n  };\n  const handleFileChange = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      try {\n        const text = String(reader.result || '');\n        const rows = parseCsv(text);\n        if (rows.length === 0) throw new Error('빈 파일');\n        const header = rows[0].map(h => h.trim());\n        const colIndex = name => header.findIndex(h => h.toLowerCase() === name.toLowerCase());\n        const idx = {\n          type: colIndex('type'),\n          question: colIndex('question'),\n          score: colIndex('score'),\n          timeLimit: colIndex('timeLimit'),\n          options: colIndex('options'),\n          correctAnswer: colIndex('correctAnswer')\n        };\n        const missing = Object.entries(idx).filter(([, v]) => v < 0).map(([k]) => k);\n        if (missing.length) throw new Error('누락된 컬럼: ' + missing.join(', '));\n        const imported = rows.slice(1).map(r => {\n          const rawType = r[idx.type] || '';\n          const type = String(rawType).toLowerCase();\n          const question = r[idx.question] || '';\n          const score = parseInt(String(r[idx.score] || '10')) || 10;\n          const timeLimit = parseInt(String(r[idx.timeLimit] || String(gameSettings.timeLimit))) || gameSettings.timeLimit;\n          let options;\n          const rawOptions = r[idx.options];\n          if (rawOptions) {\n            try {\n              options = JSON.parse(rawOptions);\n            } catch {\n              options = String(rawOptions).split('|').map(s => s.trim()).filter(Boolean);\n            }\n          }\n          const rawCorrect = r[idx.correctAnswer];\n          let correctAnswer = rawCorrect !== null && rawCorrect !== void 0 ? rawCorrect : '';\n          if (type === 'multiple' && options && options.length) {\n            const num = Number(correctAnswer);\n            if (!isNaN(num)) correctAnswer = num;else {\n              const found = options.findIndex(o => String(o) === String(correctAnswer));\n              correctAnswer = found >= 0 ? found : 0;\n            }\n          }\n          return {\n            id: 'q_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6),\n            type,\n            question,\n            score,\n            timeLimit,\n            options,\n            correctAnswer\n          };\n        }).filter(q => q.question && q.type);\n        if (imported.length === 0) throw new Error('유효한 문제가 없습니다.');\n        if (!window.confirm(`현재 문제를 ${imported.length}개의 항목으로 교체하시겠습니까?`)) return;\n        actions.reorderQuestions(imported);\n        alert(`문제 ${imported.length}개를 불러왔습니다.`);\n      } catch (err) {\n        console.error('문제 업로드 실패:', err);\n        alert('업로드에 실패했습니다: ' + ((err === null || err === void 0 ? void 0 : err.message) || String(err)));\n      } finally {\n        e.target.value = '';\n      }\n    };\n    reader.readAsText(file, 'utf-8');\n  };\n  const handleOpenGameHost = () => {\n    // 새 탭에서 진행 페이지 열기\n    window.open('/game-host', '_blank');\n  };\n  const handleBackToMain = () => {\n    // 방 삭제 후 메인으로 이동\n    if (room) {\n      roomManager.deleteRoom(room.code);\n    }\n    actions.resetGame();\n    navigate('/');\n  };\n  const handleQuestionSubmit = question => {\n    const newQuestion = {\n      id: 'q_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6),\n      ...question\n    };\n    actions.addQuestion(newQuestion);\n    setShowQuestionModal(false);\n  };\n  if (!room) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-panel\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uBC29 \\uC815\\uBCF4\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uC7A0\\uC2DC\\uB9CC \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-btn\",\n        onClick: handleBackToMain,\n        children: \"\\u2190 \\uB4A4\\uB85C\\uAC00\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"room-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uACE8\\uB4E0\\uBCA8 \\uAD00\\uB9AC\\uC790\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"room-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"room-code\",\n            children: [\"\\uBC29 \\uCF54\\uB4DC: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: room.code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"room-subject\",\n            children: [\"\\uC8FC\\uC81C: \", room.subject]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"room-type\",\n            children: room.isPublic ? '🌐 공개방' : '🔒 비공개방'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"open-host-floating\",\n        onClick: handleOpenGameHost,\n        disabled: !room,\n        children: \"\\uC9C4\\uD589\\uD398\\uC774\\uC9C0 \\uC5F4\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uAC8C\\uC784 \\uC81C\\uC5B4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"control-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"start-btn control-btn\",\n              onClick: handleStartGame,\n              disabled: questions.length === 0 || gameState === 'playing' || gameState === 'showingAnswer',\n              children: hasStarted ? '다시 시작' : '시작'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"pause-btn control-btn\",\n              onClick: handlePauseGame,\n              disabled: !(gameState === 'playing' || gameState === 'showingAnswer'),\n              children: \"\\uC77C\\uC2DC\\uC815\\uC9C0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"time-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                placeholder: \"\\uC2DC\\uAC04\",\n                className: \"time-input\",\n                onKeyDown: e => {\n                  if (e.key === 'Enter') {\n                    const v = parseInt(e.target.value);\n                    if (!isNaN(v)) {\n                      if (gameState === 'playing' || gameState === 'showingAnswer' || gameState === 'paused') {\n                        eventBus.emit('ADJUST_TIME', v);\n                        syncManager.broadcast('ADJUST_TIME', v);\n                      }\n                      e.target.value = '';\n                    }\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `time-unit ${!(gameState === 'playing' || gameState === 'showingAnswer' || gameState === 'paused') ? 'disabled' : ''}`,\n                children: \"(\\uCD08)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"control-btn\",\n                onClick: () => {\n                  eventBus.emit('ADJUST_TIME', 5);\n                  syncManager.broadcast('ADJUST_TIME', 5);\n                },\n                disabled: !(gameState === 'playing' || gameState === 'showingAnswer' || gameState === 'paused'),\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"control-btn\",\n                onClick: () => {\n                  eventBus.emit('ADJUST_TIME', -5);\n                  syncManager.broadcast('ADJUST_TIME', -5);\n                },\n                disabled: !(gameState === 'playing' || gameState === 'showingAnswer' || gameState === 'paused'),\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"submit-btn control-btn\",\n              onClick: () => {\n                if (gameState === 'playing') {\n                  actions.showAnswer();\n                } else if (gameState === 'showingAnswer') {\n                  actions.nextQuestion();\n                }\n              },\n              disabled: !(gameState === 'playing' || gameState === 'showingAnswer'),\n              children: \"\\uB118\\uC5B4\\uAC00\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"control-btn\",\n              onClick: () => actions.endGame(),\n              children: \"\\uC885\\uB8CC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"leaderboard-btn\",\n              onClick: handleShowLeaderboard,\n              children: \"\\uC21C\\uC704\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"participants-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uC2E4\\uC2DC\\uAC04 \\uCC38\\uC5EC\\uC790 \\uD604\\uD669\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), players.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-participants\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uD83C\\uDFAF \\uC544\\uC9C1 \\uCC38\\uC5EC\\uC790\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: [\"\\uBC29 \\uCF54\\uB4DC: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: room.code\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 30\n              }, this), \"\\uB97C \\uACF5\\uC720\\uD574\\uC8FC\\uC138\\uC694\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"participants-list\",\n            children: players.map(player => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"participant-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"participant-avatar\",\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  ...player.avatar\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"participant-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"participant-name\",\n                  children: player.nickname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"participant-team\",\n                  children: [player.team || '개인', \" \", player.team ? '팀' : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"participant-status\",\n                  children: player.isEliminated ? '❌ 탈락' : '✅ 참여중'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 21\n              }, this)]\n            }, player.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"questions-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"questions-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uBB38\\uC81C \\uAD00\\uB9AC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '8px',\n                flexWrap: 'wrap'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-primary add-question-btn\",\n                onClick: () => setShowQuestionModal(true),\n                children: \"+ \\uBB38\\uC81C \\uCD94\\uAC00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-primary add-question-btn ai-add-btn\",\n                onClick: () => setShowAiModal(true),\n                children: \"AI \\uBB38\\uC81C \\uCD94\\uAC00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-primary\",\n                onClick: handleDownloadQuestions,\n                children: \"\\uBB38\\uC81C \\uB2E4\\uC6B4\\uB85C\\uB4DC(CSV)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-primary\",\n                onClick: handleUploadClick,\n                children: \"\\uBB38\\uC81C \\uC5C5\\uB85C\\uB4DC(CSV)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                ref: fileInputRef,\n                type: \"file\",\n                accept: \".csv\",\n                style: {\n                  display: 'none'\n                },\n                onChange: handleFileChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(QuestionStack, {\n            questions: questions,\n            onDelete: handleDeleteQuestion,\n            onReorder: handleReorderQuestions,\n            currentIndex: currentQuestionIndex,\n            gameState: gameState,\n            hasStarted: hasStarted\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD0C0\\uC774\\uBA38 \\uC124\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uBB38\\uC81C \\uC2DC\\uAC04(\\uCD08)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: gameSettings.timeLimit,\n              min: 1,\n              max: 300,\n              onChange: e => handleGameSettingsChange({\n                timeLimit: parseInt(e.target.value) || 1\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"\\uBB38\\uC81C\\uAC00 \\uACF5\\uAC1C\\uB418\\uB294 \\uC2DC\\uAC04\\uC785\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uC815\\uB2F5 \\uACF5\\uAC1C \\uC2DC\\uAC04(\\uCD08)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: gameSettings.answerRevealTime,\n              min: 1,\n              max: 120,\n              onChange: e => handleGameSettingsChange({\n                answerRevealTime: parseInt(e.target.value) || 1\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"\\uC815\\uB2F5\\uC744 \\uACF5\\uAC1C\\uD558\\uB294 \\uC2DC\\uAC04\\uC785\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"checkbox-label\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: !gameSettings.autoMode,\n                onChange: e => handleGameSettingsChange({\n                  autoMode: !e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 17\n              }, this), \"\\uC218\\uB3D9 \\uBAA8\\uB4DC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"\\uC218\\uB3D9 \\uBAA8\\uB4DC\\uB294 \\uB2E4\\uC74C \\uB2E8\\uACC4\\uB85C \\uB118\\uC5B4\\uAC08 \\uB54C \\uC9C1\\uC811 \\u2018\\uB118\\uC5B4\\uAC00\\uAE30\\u2019\\uB97C \\uB20C\\uB7EC\\uC57C \\uD569\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this), showQuestionModal && /*#__PURE__*/_jsxDEV(QuestionModal, {\n      onSubmit: handleQuestionSubmit,\n      onClose: () => setShowQuestionModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 9\n    }, this), showAiModal && /*#__PURE__*/_jsxDEV(AiQuestionModal, {\n      onClose: () => setShowAiModal(false),\n      onGenerate: list => {\n        console.info('[AI_GEN_WIRE] 수신 항목 수', list.length);\n        const mapped = list.map(q => ({\n          id: q.id || 'q_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6),\n          type: q.type,\n          question: q.question,\n          score: typeof q.score === 'number' ? q.score : 10,\n          timeLimit: gameSettings.timeLimit,\n          options: q.options,\n          correctAnswer: q.correctAnswer\n        }));\n        actions.addQuestionsBulk(mapped);\n        setShowAiModal(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 9\n    }, this), showLeaderboard && /*#__PURE__*/_jsxDEV(LeaderboardModal, {\n      onClose: () => setShowLeaderboard(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n};\n_s(NewAdminPanel, \"skE0jWqizyCv1546piR4Cv6XMIA=\", false, function () {\n  return [useNewGameContext, useNavigate];\n});\n_c = NewAdminPanel;\nexport default NewAdminPanel;\nvar _c;\n$RefreshReg$(_c, \"NewAdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useNewGameContext","Avatar","QuestionModal","QuestionStack","eventBus","roomManager","syncManager","LeaderboardModal","AiQuestionModal","jsxDEV","_jsxDEV","NewAdminPanel","_s","showQuestionModal","setShowQuestionModal","state","actions","navigate","room","questions","players","gameState","currentQuestionIndex","gameSettings","hasStarted","isLoading","updateHostActivity","code","activityInterval","setInterval","unsubscribers","on","handlePlayerJoin","handlePlayerLeave","handleGameStateChange","handleRoomDeleted","handleBeforeUnload","markHostInactive","window","addEventListener","clearInterval","forEach","unsub","removeEventListener","player","console","log","nickname","playerId","data","roomCode","alert","handleDeleteQuestion","questionId","deleteQuestion","handleReorderQuestions","reorderedQuestions","reorderQuestions","handleStartGame","length","startGame","handlePauseGame","pauseGame","handleResumeGame","resumeGame","handleSubmitQuestion","nextQuestion","handleRevealAnswer","showAnswer","handleGameSettingsChange","newSettings","updateGameSettings","showLeaderboard","setShowLeaderboard","handleShowLeaderboard","showAiModal","setShowAiModal","fileInputRef","toCsvValue","value","str","undefined","String","test","replace","handleDownloadQuestions","confirm","headers","rows","map","q","options","Array","isArray","JSON","stringify","type","question","score","timeLimit","correctAnswer","csv","join","r","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","date","Date","toISOString","slice","download","body","appendChild","click","removeChild","revokeObjectURL","handleUploadClick","_fileInputRef$current","current","parseCsv","text","cur","val","inQuotes","i","ch","push","filter","some","c","trim","handleFileChange","e","_e$target$files","file","target","files","reader","FileReader","onload","result","Error","header","h","colIndex","name","findIndex","toLowerCase","idx","missing","Object","entries","v","k","imported","rawType","parseInt","rawOptions","parse","split","s","Boolean","rawCorrect","num","Number","isNaN","found","o","id","now","Math","random","toString","substr","err","error","message","readAsText","handleOpenGameHost","open","handleBackToMain","deleteRoom","resetGame","handleQuestionSubmit","newQuestion","addQuestion","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","subject","isPublic","disabled","placeholder","onKeyDown","key","emit","broadcast","endGame","avatar","team","isEliminated","style","display","gap","flexWrap","ref","accept","onChange","onDelete","onReorder","currentIndex","min","max","answerRevealTime","checked","autoMode","onSubmit","onClose","onGenerate","list","info","mapped","addQuestionsBulk","_c","$RefreshReg$"],"sources":["C:/Users/9204r/.cursor/avatar/src/components/NewAdminPanel.tsx"],"sourcesContent":["/**\n * 새로운 모듈 기반 관리자 패널\n * 실시간 동기화와 참여자 현황 관리\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Question, GameSettings, QuestionType } from '../types/game';\nimport { useNewGameContext } from '../contexts/NewGameContext';\nimport Avatar from 'avataaars2';\nimport QuestionModal from './QuestionModal';\nimport QuestionStack from './QuestionStack';\nimport eventBus from '../services/EventBus';\nimport roomManager from '../services/RoomManager';\nimport syncManager from '../services/SyncManager';\nimport './AdminPanel.css';\nimport LeaderboardModal from './Leaderboard';\nimport AiQuestionModal from './AiQuestionModal';\nimport { AiQuestion } from '../services/ai';\n\nconst NewAdminPanel: React.FC = () => {\n  const [showQuestionModal, setShowQuestionModal] = useState(false);\n  const { state, actions } = useNewGameContext();\n  const navigate = useNavigate();\n\n  const { \n    room, \n    questions, \n    players, \n    gameState, \n    currentQuestionIndex, \n    gameSettings,\n    hasStarted,\n    isLoading\n  } = state;\n\n  // 호스트 활동 주기적 업데이트\n  useEffect(() => {\n    if (!room) {\n      // 초기 하이드레이션 중에는 리다이렉트하지 않음\n      if (isLoading) return;\n      return;\n    }\n\n    // 초기 호스트 활동 등록\n    actions.updateHostActivity(room.code);\n\n    // 주기적으로 호스트 활동 업데이트 (5초마다)\n    const activityInterval = setInterval(() => {\n      actions.updateHostActivity(room.code);\n    }, 5000);\n\n    // 이벤트 리스너 등록\n    const unsubscribers = [\n      eventBus.on('PLAYER_JOIN', handlePlayerJoin),\n      eventBus.on('PLAYER_LEAVE', handlePlayerLeave),\n      eventBus.on('GAME_STATE_CHANGE', handleGameStateChange),\n      eventBus.on('ROOM_DELETED', handleRoomDeleted)\n    ];\n\n    // 페이지 언로드 시 호스트 비활성 (10초 후 삭제 타이머 작동)\n    const handleBeforeUnload = () => {\n      try { roomManager.markHostInactive(room.code); } catch {}\n    };\n    window.addEventListener('beforeunload', handleBeforeUnload);\n\n    return () => {\n      clearInterval(activityInterval);\n      unsubscribers.forEach(unsub => unsub());\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n      // StrictMode 이중 마운트로 인한 즉시 삭제 방지: cleanup에서는 삭제하지 않음\n    };\n  }, [room, actions, navigate, isLoading]);\n\n  // 진행 로직은 컨텍스트에서 단일 스케줄러가 담당하므로, 관리자 페이지에서는 보조 타이머를 두지 않습니다.\n\n  const handlePlayerJoin = (player: any) => {\n    console.log('👤 새 참여자:', player.nickname);\n  };\n\n  const handlePlayerLeave = (playerId: string) => {\n    console.log('👤 참여자 퇴장:', playerId);\n  };\n\n  const handleGameStateChange = (data: any) => {\n    console.log('🎮 게임 상태 변경:', data);\n  };\n\n  const handleRoomDeleted = (roomCode: string) => {\n    if (room?.code === roomCode) {\n      alert('방이 삭제되었습니다.');\n      navigate('/');\n    }\n  };\n\n  const handleDeleteQuestion = (questionId: string) => {\n    actions.deleteQuestion(questionId);\n  };\n\n  const handleReorderQuestions = (reorderedQuestions: Question[]) => {\n    actions.reorderQuestions(reorderedQuestions);\n  };\n\n  const handleStartGame = () => {\n    if (questions.length === 0) {\n      alert('문제를 먼저 추가해주세요.');\n      return;\n    }\n    actions.startGame();\n  };\n\n  const handlePauseGame = () => {\n    actions.pauseGame();\n  };\n\n  const handleResumeGame = () => {\n    actions.resumeGame();\n  };\n\n  const handleSubmitQuestion = () => {\n    actions.nextQuestion();\n  };\n\n  const handleRevealAnswer = () => {\n    actions.showAnswer();\n  };\n\n  const handleGameSettingsChange = (newSettings: Partial<GameSettings>) => {\n    actions.updateGameSettings(newSettings);\n  };\n\n  const [showLeaderboard, setShowLeaderboard] = useState(false);\n  const handleShowLeaderboard = () => setShowLeaderboard(true);\n  const [showAiModal, setShowAiModal] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const toCsvValue = (value: any) => {\n    const str = value === undefined || value === null ? '' : String(value);\n    if (/[\",\\n]/.test(str)) {\n      return '\"' + str.replace(/\"/g, '\"\"') + '\"';\n    }\n    return str;\n  };\n\n  const handleDownloadQuestions = () => {\n    if (!questions || questions.length === 0) {\n      alert('다운로드할 문제가 없습니다.');\n      return;\n    }\n    if (!window.confirm('현재 문제 세트를 파일로 저장하시겠습니까?')) return;\n\n    const headers = ['type','question','score','timeLimit','options','correctAnswer'];\n    const rows = questions.map(q => {\n      const options = Array.isArray(q.options) ? JSON.stringify(q.options) : '';\n      return [\n        q.type,\n        q.question,\n        typeof q.score === 'number' ? q.score : 10,\n        typeof q.timeLimit === 'number' ? q.timeLimit : gameSettings.timeLimit,\n        options,\n        q.correctAnswer\n      ];\n    });\n    const csv = [headers.map(toCsvValue).join(','), ...rows.map(r => r.map(toCsvValue).join(','))].join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    const date = new Date().toISOString().slice(0,10);\n    a.download = `goldenbell_questions_${room?.code || 'room'}_${date}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleUploadClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  const parseCsv = (text: string): string[][] => {\n    const rows: string[][] = [];\n    let cur: string[] = [];\n    let val = '';\n    let inQuotes = false;\n    for (let i = 0; i < text.length; i++) {\n      const ch = text[i];\n      if (inQuotes) {\n        if (ch === '\"') {\n          if (text[i+1] === '\"') { val += '\"'; i++; }\n          else { inQuotes = false; }\n        } else {\n          val += ch;\n        }\n      } else {\n        if (ch === '\"') { inQuotes = true; }\n        else if (ch === ',') { cur.push(val); val = ''; }\n        else if (ch === '\\n' || ch === '\\r') {\n          if (val !== '' || cur.length > 0) { cur.push(val); rows.push(cur); cur = []; val = ''; }\n          // handle \\r\\n by skipping next if needed\n          if (ch === '\\r' && text[i+1] === '\\n') i++;\n        } else { val += ch; }\n      }\n    }\n    if (val !== '' || cur.length > 0) { cur.push(val); rows.push(cur); }\n    return rows.filter(r => r.some(c => String(c).trim() !== ''));\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      try {\n        const text = String(reader.result || '');\n        const rows = parseCsv(text);\n        if (rows.length === 0) throw new Error('빈 파일');\n        const header = rows[0].map(h => h.trim());\n        const colIndex = (name: string) => header.findIndex(h => h.toLowerCase() === name.toLowerCase());\n        const idx = {\n          type: colIndex('type'),\n          question: colIndex('question'),\n          score: colIndex('score'),\n          timeLimit: colIndex('timeLimit'),\n          options: colIndex('options'),\n          correctAnswer: colIndex('correctAnswer')\n        } as const;\n        const missing = Object.entries(idx).filter(([,v]) => v < 0).map(([k]) => k);\n        if (missing.length) throw new Error('누락된 컬럼: ' + missing.join(', '));\n\n        const imported: Question[] = rows.slice(1).map((r) => {\n          const rawType = r[idx.type] || '';\n          const type = (String(rawType).toLowerCase() as QuestionType);\n          const question = r[idx.question] || '';\n          const score = parseInt(String(r[idx.score] || '10')) || 10;\n          const timeLimit = parseInt(String(r[idx.timeLimit] || String(gameSettings.timeLimit))) || gameSettings.timeLimit;\n          let options: string[] | undefined;\n          const rawOptions = r[idx.options];\n          if (rawOptions) {\n            try { options = JSON.parse(rawOptions); }\n            catch { options = String(rawOptions).split('|').map(s => s.trim()).filter(Boolean); }\n          }\n          const rawCorrect = r[idx.correctAnswer];\n          let correctAnswer: string | number = rawCorrect ?? '';\n          if (type === 'multiple' && options && options.length) {\n            const num = Number(correctAnswer);\n            if (!isNaN(num)) correctAnswer = num; else {\n              const found = options.findIndex(o => String(o) === String(correctAnswer));\n              correctAnswer = found >= 0 ? found : 0;\n            }\n          }\n          return {\n            id: 'q_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6),\n            type,\n            question,\n            score,\n            timeLimit,\n            options,\n            correctAnswer\n          } as Question;\n        }).filter(q => q.question && q.type);\n\n        if (imported.length === 0) throw new Error('유효한 문제가 없습니다.');\n\n        if (!window.confirm(`현재 문제를 ${imported.length}개의 항목으로 교체하시겠습니까?`)) return;\n        actions.reorderQuestions(imported);\n        alert(`문제 ${imported.length}개를 불러왔습니다.`);\n      } catch (err: any) {\n        console.error('문제 업로드 실패:', err);\n        alert('업로드에 실패했습니다: ' + (err?.message || String(err)));\n      } finally {\n        e.target.value = '';\n      }\n    };\n    reader.readAsText(file, 'utf-8');\n  };\n\n  const handleOpenGameHost = () => {\n    // 새 탭에서 진행 페이지 열기\n    window.open('/game-host', '_blank');\n  };\n\n  const handleBackToMain = () => {\n    // 방 삭제 후 메인으로 이동\n    if (room) {\n      roomManager.deleteRoom(room.code);\n    }\n    actions.resetGame();\n    navigate('/');\n  };\n\n  const handleQuestionSubmit = (question: Omit<Question, 'id'>) => {\n    const newQuestion: Question = {\n      id: 'q_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6),\n      ...question,\n    };\n    actions.addQuestion(newQuestion);\n    setShowQuestionModal(false);\n  };\n\n  if (!room) {\n    return (\n      <div className=\"admin-panel\">\n        <div className=\"loading-message\">\n          <h2>방 정보를 불러오는 중...</h2>\n          <p>잠시만 기다려주세요.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-panel\">\n      <header className=\"admin-header\">\n        <button className=\"back-btn\" onClick={handleBackToMain}>\n          ← 뒤로가기\n        </button>\n        <div className=\"room-info\">\n          <h1>골든벨 관리자</h1>\n          <div className=\"room-details\">\n            <span className=\"room-code\">방 코드: <strong>{room.code}</strong></span>\n            <span className=\"room-subject\">주제: {room.subject}</span>\n            <span className=\"room-type\">\n              {room.isPublic ? '🌐 공개방' : '🔒 비공개방'}\n            </span>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"admin-content\">\n        <button \n          className=\"open-host-floating\" \n          onClick={handleOpenGameHost}\n          disabled={!room}\n        >\n          진행페이지 열기\n        </button>\n        <div className=\"left-panel\">\n          <div className=\"control-section\">\n            <h3>게임 제어</h3>\n            <div className=\"control-buttons\">\n              {/* 시작 / 일시정지 / 넘어가기 / 종료 순서, 시작 전에는 일시정지/넘어가기 비활성 */}\n              <button \n                className=\"start-btn control-btn\" \n                onClick={handleStartGame}\n                disabled={questions.length === 0 || gameState === 'playing' || gameState === 'showingAnswer'}\n              >\n                {hasStarted ? '다시 시작' : '시작'}\n              </button>\n\n              <button className=\"pause-btn control-btn\" onClick={handlePauseGame} disabled={!(gameState === 'playing' || gameState === 'showingAnswer')}>\n                일시정지\n              </button>\n\n              <div className=\"time-controls\">\n                <input type=\"number\" placeholder=\"시간\" className=\"time-input\"\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      const v = parseInt((e.target as HTMLInputElement).value);\n                      if (!isNaN(v)) {\n                        if (gameState === 'playing' || gameState === 'showingAnswer' || gameState === 'paused') {\n                          eventBus.emit('ADJUST_TIME', v);\n                          syncManager.broadcast('ADJUST_TIME', v);\n                        }\n                        (e.target as HTMLInputElement).value = '';\n                      }\n                    }\n                  }}\n                />\n                <span className={`time-unit ${!(gameState === 'playing' || gameState === 'showingAnswer' || gameState === 'paused') ? 'disabled' : ''}`}>(초)</span>\n                <button className=\"control-btn\" onClick={() => { eventBus.emit('ADJUST_TIME', 5); syncManager.broadcast('ADJUST_TIME', 5); }} disabled={!(gameState === 'playing' || gameState === 'showingAnswer' || gameState === 'paused')}>+</button>\n                <button className=\"control-btn\" onClick={() => { eventBus.emit('ADJUST_TIME', -5); syncManager.broadcast('ADJUST_TIME', -5); }} disabled={!(gameState === 'playing' || gameState === 'showingAnswer' || gameState === 'paused')}>-</button>\n              </div>\n\n              <button className=\"submit-btn control-btn\" onClick={() => {\n                if (gameState === 'playing') {\n                  actions.showAnswer();\n                } else if (gameState === 'showingAnswer') {\n                  actions.nextQuestion();\n                }\n              }} disabled={!(gameState === 'playing' || gameState === 'showingAnswer')}>\n                넘어가기\n              </button>\n\n              <button className=\"control-btn\" onClick={() => actions.endGame()}>\n                종료\n              </button>\n\n              <button \n                className=\"leaderboard-btn\" \n                onClick={handleShowLeaderboard}\n              >\n                순위\n              </button>\n            </div>\n          </div>\n\n          {/* 실시간 참여자 현황 */}\n          <div className=\"participants-section\">\n            <h3>실시간 참여자 현황</h3>\n            {players.length === 0 ? (\n              <div className=\"no-participants\">\n                <p>🎯 아직 참여자가 없습니다</p>\n                <small>방 코드: <strong>{room.code}</strong>를 공유해주세요</small>\n              </div>\n            ) : (\n              <div className=\"participants-list\">\n                {players.map(player => (\n                  <div key={player.id} className=\"participant-item\">\n                    <div className=\"participant-avatar\">\n                      <Avatar {...player.avatar} />\n                    </div>\n                    <div className=\"participant-info\">\n                      <span className=\"participant-name\">{player.nickname}</span>\n                      <span className=\"participant-team\">\n                        {player.team || '개인'} {player.team ? '팀' : ''}\n                      </span>\n                      <span className=\"participant-status\">\n                        {player.isEliminated ? '❌ 탈락' : '✅ 참여중'}\n                      </span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"right-panel\">\n          <div className=\"questions-section\">\n            <div className=\"questions-header\">\n              <h3>문제 관리</h3>\n              <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\n                <button \n                  className=\"btn-primary add-question-btn\"\n                  onClick={() => setShowQuestionModal(true)}\n                >\n                  + 문제 추가\n                </button>\n                <button \n                  className=\"btn-primary add-question-btn ai-add-btn\"\n                  onClick={() => setShowAiModal(true)}\n                >\n                  AI 문제 추가\n                </button>\n                <button \n                  className=\"btn-primary\"\n                  onClick={handleDownloadQuestions}\n                >\n                  문제 다운로드(CSV)\n                </button>\n                <button \n                  className=\"btn-primary\"\n                  onClick={handleUploadClick}\n                >\n                  문제 업로드(CSV)\n                </button>\n                <input ref={fileInputRef} type=\"file\" accept=\".csv\" style={{ display: 'none' }} onChange={handleFileChange} />\n              </div>\n            </div>\n            \n            <QuestionStack\n              questions={questions}\n              onDelete={handleDeleteQuestion}\n              onReorder={handleReorderQuestions}\n              currentIndex={currentQuestionIndex}\n              gameState={gameState}\n              hasStarted={hasStarted}\n            />\n          </div>\n\n          <div className=\"settings-section\">\n            <h3>타이머 설정</h3>\n            <div className=\"setting-group\">\n              <label>문제 시간(초)</label>\n              <input\n                type=\"number\"\n                value={gameSettings.timeLimit}\n                min={1}\n                max={300}\n                onChange={(e) => handleGameSettingsChange({ timeLimit: parseInt(e.target.value) || 1 })}\n              />\n              <small>문제가 공개되는 시간입니다.</small>\n            </div>\n            <div className=\"setting-group\">\n              <label>정답 공개 시간(초)</label>\n              <input\n                type=\"number\"\n                value={gameSettings.answerRevealTime}\n                min={1}\n                max={120}\n                onChange={(e) => handleGameSettingsChange({ answerRevealTime: parseInt(e.target.value) || 1 })}\n              />\n              <small>정답을 공개하는 시간입니다.</small>\n            </div>\n            <div className=\"checkbox-group\">\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={!gameSettings.autoMode}\n                  onChange={(e) => handleGameSettingsChange({ autoMode: !e.target.checked })}\n                />\n                수동 모드\n              </label>\n              <small>수동 모드는 다음 단계로 넘어갈 때 직접 ‘넘어가기’를 눌러야 합니다.</small>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {showQuestionModal && (\n        <QuestionModal\n          onSubmit={handleQuestionSubmit}\n          onClose={() => setShowQuestionModal(false)}\n        />\n      )}\n      {showAiModal && (\n        <AiQuestionModal\n          onClose={() => setShowAiModal(false)}\n          onGenerate={(list: AiQuestion[]) => {\n            console.info('[AI_GEN_WIRE] 수신 항목 수', list.length);\n            const mapped = list.map(q => ({\n              id: q.id || 'q_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6),\n              type: q.type as QuestionType,\n              question: q.question,\n              score: typeof q.score === 'number' ? q.score : 10,\n              timeLimit: gameSettings.timeLimit,\n              options: q.options,\n              correctAnswer: q.correctAnswer,\n            })) as any[];\n            actions.addQuestionsBulk(mapped as any);\n            setShowAiModal(false);\n          }}\n        />\n      )}\n      {showLeaderboard && (\n        <LeaderboardModal onClose={() => setShowLeaderboard(false)} />\n      )}\n    </div>\n  );\n};\n\nexport default NewAdminPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}