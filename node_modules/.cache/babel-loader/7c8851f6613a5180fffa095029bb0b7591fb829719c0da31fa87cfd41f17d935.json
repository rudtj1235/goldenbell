{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\9204r\\\\.cursor\\\\avatar\\\\src\\\\components\\\\GameHost.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useGameContext } from '../contexts/GameContext';\nimport Avatar from 'avataaars2';\nimport './GameHost.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameHost = () => {\n  _s();\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [showAnswer, setShowAnswer] = useState(false);\n  const [eliminateMode, setEliminateMode] = useState(false);\n  const [reviveMode, setReviveMode] = useState(false);\n  const {\n    state,\n    dispatch\n  } = useGameContext();\n  const [localGameData, setLocalGameData] = useState(null);\n\n  // Context ÏÉÅÌÉú ÎòêÎäî localStorageÏóêÏÑú Î°úÎìúÌïú Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©\n  const gameData = localGameData || state;\n  const {\n    room,\n    questions,\n    players,\n    gameState,\n    currentQuestionIndex,\n    gameSettings\n  } = gameData;\n  const currentQuestion = questions[currentQuestionIndex] || null;\n  useEffect(() => {\n    // localStorageÏóêÏÑú Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞ Î°úÎìú (ÏÉà ÌÉ≠ÏóêÏÑú Ïó¥ÏóàÏùÑ Îïå)\n    const savedGameData = localStorage.getItem('gameHostData');\n    if (savedGameData && !state.room) {\n      const parsedData = JSON.parse(savedGameData);\n      setLocalGameData(parsedData);\n    }\n  }, [state.room]);\n  useEffect(() => {\n    // Í≤åÏûÑÏù¥ ÏßÑÌñâ Ï§ëÏù¥Í≥† ÌòÑÏû¨ Î¨∏Ï†úÍ∞Ä ÏûàÏúºÎ©¥ ÌÉÄÏù¥Î®∏ ÏÑ§Ï†ï\n    if (gameState === 'playing' && currentQuestion) {\n      setTimeLeft(currentQuestion.timeLimit);\n      setShowAnswer(false);\n    } else if (gameState === 'showingAnswer') {\n      setShowAnswer(true);\n    }\n  }, [gameState, currentQuestion]);\n  useEffect(() => {\n    let timer;\n    if (gameState === 'playing' && timeLeft > 0) {\n      timer = setTimeout(() => {\n        setTimeLeft(prev => prev - 1);\n      }, 1000);\n    } else if (gameState === 'playing' && timeLeft === 0) {\n      setShowAnswer(true);\n      // ÏûêÎèô Î™®ÎìúÎùºÎ©¥ ÏùºÏ†ï ÏãúÍ∞Ñ ÌõÑ Îã§Ïùå Î¨∏Ï†úÎ°ú\n      if (gameSettings.autoMode) {\n        setTimeout(() => {\n          setShowAnswer(false);\n          dispatch({\n            type: 'NEXT_QUESTION'\n          });\n        }, gameSettings.answerRevealTime * 1000);\n      }\n    }\n    return () => {\n      if (timer) clearTimeout(timer);\n    };\n  }, [timeLeft, gameState, gameSettings, dispatch]);\n  const handlePlayerClick = playerId => {\n    if (eliminateMode) {\n      // Context ÏÉÅÌÉúÍ∞Ä ÏûàÏúºÎ©¥ dispatch, ÏóÜÏúºÎ©¥ localStorage ÏóÖÎç∞Ïù¥Ìä∏\n      if (state.room) {\n        dispatch({\n          type: 'ELIMINATE_PLAYER',\n          payload: playerId\n        });\n      } else if (localGameData) {\n        const updatedData = {\n          ...localGameData,\n          players: localGameData.players.map(p => p.id === playerId ? {\n            ...p,\n            isEliminated: true\n          } : p)\n        };\n        setLocalGameData(updatedData);\n        localStorage.setItem('gameHostData', JSON.stringify(updatedData));\n      }\n      setEliminateMode(false);\n      document.body.style.cursor = 'default';\n    } else if (reviveMode) {\n      // Context ÏÉÅÌÉúÍ∞Ä ÏûàÏúºÎ©¥ dispatch, ÏóÜÏúºÎ©¥ localStorage ÏóÖÎç∞Ïù¥Ìä∏\n      if (state.room) {\n        dispatch({\n          type: 'REVIVE_PLAYER',\n          payload: playerId\n        });\n      } else if (localGameData) {\n        const updatedData = {\n          ...localGameData,\n          players: localGameData.players.map(p => p.id === playerId ? {\n            ...p,\n            isEliminated: false\n          } : p)\n        };\n        setLocalGameData(updatedData);\n        localStorage.setItem('gameHostData', JSON.stringify(updatedData));\n      }\n      setReviveMode(false);\n      document.body.style.cursor = 'default';\n    }\n  };\n  const handleEliminateMode = () => {\n    setEliminateMode(true);\n    setReviveMode(false);\n    document.body.style.cursor = 'url(\"data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'24\\' height=\\'24\\' viewBox=\\'0 0 24 24\\'><text y=\\'18\\' font-size=\\'18\\'>‚ùå</text></svg>\") 12 12, auto';\n  };\n  const handleReviveMode = () => {\n    setReviveMode(true);\n    setEliminateMode(false);\n    document.body.style.cursor = 'url(\"data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'24\\' height=\\'24\\' viewBox=\\'0 0 24 24\\'><text y=\\'18\\' font-size=\\'18\\'>‚≠ï</text></svg>\") 12 12, auto';\n  };\n  const handleCancelMode = () => {\n    setEliminateMode(false);\n    setReviveMode(false);\n    document.body.style.cursor = 'default';\n  };\n  const sortPlayers = players => {\n    return [...players].sort((a, b) => {\n      // ÌåÄÏù¥ ÏûàÎäî ÌîåÎ†àÏù¥Ïñ¥ Ïö∞ÏÑ†, ÌåÄ ÎÇ¥ÏóêÏÑúÎäî ÎãâÎÑ§ÏûÑ Ïàú\n      if (a.team && b.team) {\n        if (a.team !== b.team) {\n          return a.team.localeCompare(b.team);\n        }\n        return a.nickname.localeCompare(b.nickname);\n      }\n      if (a.team && !b.team) return -1;\n      if (!a.team && b.team) return 1;\n      // Îëò Îã§ Í∞úÏù∏Ïù∏ Í≤ΩÏö∞ ÎãâÎÑ§ÏûÑ Ïàú\n      return a.nickname.localeCompare(b.nickname);\n    });\n  };\n  const getBackgroundColor = colorName => {\n    const colorMap = {\n      'Black': '#262e33',\n      'Blue01': '#65C9FF',\n      'Blue02': '#5199E4',\n      'Blue03': '#25557C',\n      'Gray01': '#E6E6E6',\n      'Gray02': '#929598',\n      'Heather': '#3C4F5C',\n      'PastelBlue': '#B1E2FF',\n      'PastelGreen': '#A7FFC4',\n      'PastelOrange': '#FFDEB5',\n      'PastelRed': '#FFAFB9',\n      'PastelYellow': '#FFFFB1',\n      'Pink': '#FF488E',\n      'Red': '#C93305',\n      'White': '#FFFFFF'\n    };\n    return colorMap[colorName] || '#B1E2FF';\n  };\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  if (!room) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-host loading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uBC29\\uC744 \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-host\",\n    onClick: handleCancelMode,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"game-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDFC6 \\uACE8\\uB4E0\\uBCA8 \\uC9C4\\uD589\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"game-status\",\n          children: gameState === 'waiting' ? 'ÎåÄÍ∏∞Ï§ë' : gameState === 'playing' ? 'Î¨∏Ï†ú ÏßÑÌñâÏ§ë' : gameState === 'paused' ? 'ÏùºÏãúÏ†ïÏßÄ' : gameState === 'showingAnswer' ? 'Ï†ïÎãµ Í≥µÍ∞ú' : 'Í≤åÏûÑ Ï¢ÖÎ£å'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timer-display\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `timer ${timeLeft <= 5 ? 'warning' : ''}`,\n          children: [\"\\u23F1\\uFE0F \", formatTime(timeLeft)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"game-main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-area\",\n        children: gameState === 'waiting' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"waiting-message\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uB300\\uAE30 \\uC911\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uBB38\\uC81C\\uAC00 \\uC81C\\uC2DC\\uB420 \\uB54C\\uAE4C\\uC9C0 \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this) : currentQuestion ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-display\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"question-type\",\n              children: currentQuestion.type === 'ox' ? 'OX Î¨∏Ï†ú' : currentQuestion.type === 'multiple' ? 'Í∞ùÍ¥ÄÏãù' : 'Ï£ºÍ¥ÄÏãù'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"question-score\",\n              children: [currentQuestion.score, \"\\uC810\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"question-text\",\n            children: currentQuestion.question\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this), currentQuestion.type === 'ox' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ox-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `ox-option ${showAnswer && currentQuestion.correctAnswer === 'O' ? 'correct' : ''}`,\n              children: \"O (\\uCC38)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `ox-option ${showAnswer && currentQuestion.correctAnswer === 'X' ? 'correct' : ''}`,\n              children: \"X (\\uAC70\\uC9D3)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 17\n          }, this), currentQuestion.type === 'multiple' && currentQuestion.options && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"multiple-options\",\n            children: currentQuestion.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `multiple-option ${showAnswer && index === currentQuestion.correctAnswer ? 'correct' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"option-number\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"option-text\",\n                children: option\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this), currentQuestion.type === 'short' && showAnswer && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"short-answer\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"answer-label\",\n              children: \"\\uC815\\uB2F5:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"answer-text\",\n              children: currentQuestion.correctAnswer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"game-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"players-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"players-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uCC38\\uC5EC\\uC790 \\uD604\\uD669\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uC804\\uCCB4: \", players.length, \"\\uBA85\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uD0C8\\uB77D: \", players.filter(p => p.isEliminated).length, \"\\uBA85\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uC81C\\uCD9C: \", players.filter(p => p.hasSubmitted && !p.isEliminated).length, \"\\uBA85\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"players-grid\",\n          children: sortPlayers(players).map(player => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `player-avatar ${player.isEliminated ? 'eliminated' : ''} ${player.hasSubmitted ? 'submitted' : ''}`,\n            onClick: e => {\n              e.stopPropagation();\n              handlePlayerClick(player.id);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"avatar-background\",\n                style: {\n                  backgroundColor: getBackgroundColor(player.avatar.backgroundColor || 'PastelBlue'),\n                  filter: player.isEliminated ? 'grayscale(100%)' : 'none'\n                },\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  style: {\n                    width: '60px',\n                    height: '60px'\n                  },\n                  avatarStyle: \"Transparent\",\n                  topType: player.avatar.topType || 'ShortHairShortFlat',\n                  accessoriesType: player.avatar.accessoriesType || 'Blank',\n                  hairColor: player.avatar.hairColor || 'BrownDark',\n                  facialHairType: \"Blank\",\n                  facialHairColor: \"BrownDark\",\n                  clotheType: \"ShirtCrewNeck\",\n                  clotheColor: player.avatar.clotheColor || 'Blue01',\n                  eyeType: player.avatar.eyeType || 'Happy',\n                  eyebrowType: player.avatar.eyebrowType || 'Default',\n                  mouthType: player.avatar.mouthType || 'Smile',\n                  skinColor: player.avatar.skinColor || 'Light'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 19\n              }, this), player.hasSubmitted && !player.isEliminated && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"submitted-indicator\",\n                children: \"\\u2713\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"player-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"player-name\",\n                children: [player.team && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"team-badge\",\n                  children: player.team\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 37\n                }, this), player.nickname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"player-score\",\n                children: [player.score, \"\\uC810\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 17\n            }, this)]\n          }, player.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), gameSettings.eliminationMode && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"elimination-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `control-btn eliminate-btn ${eliminateMode ? 'active' : ''}`,\n          onClick: e => {\n            e.stopPropagation();\n            handleEliminateMode();\n          },\n          children: \"\\u274C \\uD0C8\\uB77D\\uC2DC\\uD0A4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `control-btn revive-btn ${reviveMode ? 'active' : ''}`,\n          onClick: e => {\n            e.stopPropagation();\n            handleReviveMode();\n          },\n          children: \"\\u2B55 \\uBD80\\uD65C\\uC2DC\\uD0A4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n};\n_s(GameHost, \"JEmuzFkXjTGOmMdJAC0PnhbYoko=\", false, function () {\n  return [useGameContext];\n});\n_c = GameHost;\nexport default GameHost;\nvar _c;\n$RefreshReg$(_c, \"GameHost\");","map":{"version":3,"names":["React","useState","useEffect","useGameContext","Avatar","jsxDEV","_jsxDEV","GameHost","_s","timeLeft","setTimeLeft","showAnswer","setShowAnswer","eliminateMode","setEliminateMode","reviveMode","setReviveMode","state","dispatch","localGameData","setLocalGameData","gameData","room","questions","players","gameState","currentQuestionIndex","gameSettings","currentQuestion","savedGameData","localStorage","getItem","parsedData","JSON","parse","timeLimit","timer","setTimeout","prev","autoMode","type","answerRevealTime","clearTimeout","handlePlayerClick","playerId","payload","updatedData","map","p","id","isEliminated","setItem","stringify","document","body","style","cursor","handleEliminateMode","handleReviveMode","handleCancelMode","sortPlayers","sort","a","b","team","localeCompare","nickname","getBackgroundColor","colorName","colorMap","formatTime","seconds","mins","Math","floor","secs","toString","padStart","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","score","question","correctAnswer","options","option","index","length","filter","hasSubmitted","player","e","stopPropagation","backgroundColor","avatar","width","height","avatarStyle","topType","accessoriesType","hairColor","facialHairType","facialHairColor","clotheType","clotheColor","eyeType","eyebrowType","mouthType","skinColor","eliminationMode","_c","$RefreshReg$"],"sources":["C:/Users/9204r/.cursor/avatar/src/components/GameHost.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Question, Player } from '../types/game';\r\nimport { useGameContext } from '../contexts/GameContext';\r\nimport Avatar from 'avataaars2';\r\nimport './GameHost.css';\r\n\r\nconst GameHost: React.FC = () => {\r\n  const [timeLeft, setTimeLeft] = useState<number>(0);\r\n  const [showAnswer, setShowAnswer] = useState(false);\r\n  const [eliminateMode, setEliminateMode] = useState(false);\r\n  const [reviveMode, setReviveMode] = useState(false);\r\n  \r\n  const { state, dispatch } = useGameContext();\r\n  const [localGameData, setLocalGameData] = useState<any>(null);\r\n  \r\n  // Context ÏÉÅÌÉú ÎòêÎäî localStorageÏóêÏÑú Î°úÎìúÌïú Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©\r\n  const gameData = localGameData || state;\r\n  const { room, questions, players, gameState, currentQuestionIndex, gameSettings } = gameData;\r\n  \r\n  const currentQuestion = questions[currentQuestionIndex] || null;\r\n\r\n  useEffect(() => {\r\n    // localStorageÏóêÏÑú Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞ Î°úÎìú (ÏÉà ÌÉ≠ÏóêÏÑú Ïó¥ÏóàÏùÑ Îïå)\r\n    const savedGameData = localStorage.getItem('gameHostData');\r\n    if (savedGameData && !state.room) {\r\n      const parsedData = JSON.parse(savedGameData);\r\n      setLocalGameData(parsedData);\r\n    }\r\n  }, [state.room]);\r\n\r\n  useEffect(() => {\r\n    // Í≤åÏûÑÏù¥ ÏßÑÌñâ Ï§ëÏù¥Í≥† ÌòÑÏû¨ Î¨∏Ï†úÍ∞Ä ÏûàÏúºÎ©¥ ÌÉÄÏù¥Î®∏ ÏÑ§Ï†ï\r\n    if (gameState === 'playing' && currentQuestion) {\r\n      setTimeLeft(currentQuestion.timeLimit);\r\n      setShowAnswer(false);\r\n    } else if (gameState === 'showingAnswer') {\r\n      setShowAnswer(true);\r\n    }\r\n  }, [gameState, currentQuestion]);\r\n\r\n  useEffect(() => {\r\n    let timer: NodeJS.Timeout;\r\n    \r\n    if (gameState === 'playing' && timeLeft > 0) {\r\n      timer = setTimeout(() => {\r\n        setTimeLeft(prev => prev - 1);\r\n      }, 1000);\r\n    } else if (gameState === 'playing' && timeLeft === 0) {\r\n      setShowAnswer(true);\r\n      // ÏûêÎèô Î™®ÎìúÎùºÎ©¥ ÏùºÏ†ï ÏãúÍ∞Ñ ÌõÑ Îã§Ïùå Î¨∏Ï†úÎ°ú\r\n      if (gameSettings.autoMode) {\r\n        setTimeout(() => {\r\n          setShowAnswer(false);\r\n          dispatch({ type: 'NEXT_QUESTION' });\r\n        }, gameSettings.answerRevealTime * 1000);\r\n      }\r\n    }\r\n    \r\n    return () => {\r\n      if (timer) clearTimeout(timer);\r\n    };\r\n  }, [timeLeft, gameState, gameSettings, dispatch]);\r\n\r\n  const handlePlayerClick = (playerId: string) => {\r\n    if (eliminateMode) {\r\n      // Context ÏÉÅÌÉúÍ∞Ä ÏûàÏúºÎ©¥ dispatch, ÏóÜÏúºÎ©¥ localStorage ÏóÖÎç∞Ïù¥Ìä∏\r\n      if (state.room) {\r\n        dispatch({ type: 'ELIMINATE_PLAYER', payload: playerId });\r\n      } else if (localGameData) {\r\n        const updatedData = {\r\n          ...localGameData,\r\n          players: localGameData.players.map((p: any) => \r\n            p.id === playerId ? { ...p, isEliminated: true } : p\r\n          )\r\n        };\r\n        setLocalGameData(updatedData);\r\n        localStorage.setItem('gameHostData', JSON.stringify(updatedData));\r\n      }\r\n      setEliminateMode(false);\r\n      document.body.style.cursor = 'default';\r\n    } else if (reviveMode) {\r\n      // Context ÏÉÅÌÉúÍ∞Ä ÏûàÏúºÎ©¥ dispatch, ÏóÜÏúºÎ©¥ localStorage ÏóÖÎç∞Ïù¥Ìä∏\r\n      if (state.room) {\r\n        dispatch({ type: 'REVIVE_PLAYER', payload: playerId });\r\n      } else if (localGameData) {\r\n        const updatedData = {\r\n          ...localGameData,\r\n          players: localGameData.players.map((p: any) => \r\n            p.id === playerId ? { ...p, isEliminated: false } : p\r\n          )\r\n        };\r\n        setLocalGameData(updatedData);\r\n        localStorage.setItem('gameHostData', JSON.stringify(updatedData));\r\n      }\r\n      setReviveMode(false);\r\n      document.body.style.cursor = 'default';\r\n    }\r\n  };\r\n\r\n  const handleEliminateMode = () => {\r\n    setEliminateMode(true);\r\n    setReviveMode(false);\r\n    document.body.style.cursor = 'url(\"data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'24\\' height=\\'24\\' viewBox=\\'0 0 24 24\\'><text y=\\'18\\' font-size=\\'18\\'>‚ùå</text></svg>\") 12 12, auto';\r\n  };\r\n\r\n  const handleReviveMode = () => {\r\n    setReviveMode(true);\r\n    setEliminateMode(false);\r\n    document.body.style.cursor = 'url(\"data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'24\\' height=\\'24\\' viewBox=\\'0 0 24 24\\'><text y=\\'18\\' font-size=\\'18\\'>‚≠ï</text></svg>\") 12 12, auto';\r\n  };\r\n\r\n  const handleCancelMode = () => {\r\n    setEliminateMode(false);\r\n    setReviveMode(false);\r\n    document.body.style.cursor = 'default';\r\n  };\r\n\r\n  const sortPlayers = (players: Player[]): Player[] => {\r\n    return [...players].sort((a, b) => {\r\n      // ÌåÄÏù¥ ÏûàÎäî ÌîåÎ†àÏù¥Ïñ¥ Ïö∞ÏÑ†, ÌåÄ ÎÇ¥ÏóêÏÑúÎäî ÎãâÎÑ§ÏûÑ Ïàú\r\n      if (a.team && b.team) {\r\n        if (a.team !== b.team) {\r\n          return a.team.localeCompare(b.team);\r\n        }\r\n        return a.nickname.localeCompare(b.nickname);\r\n      }\r\n      if (a.team && !b.team) return -1;\r\n      if (!a.team && b.team) return 1;\r\n      // Îëò Îã§ Í∞úÏù∏Ïù∏ Í≤ΩÏö∞ ÎãâÎÑ§ÏûÑ Ïàú\r\n      return a.nickname.localeCompare(b.nickname);\r\n    });\r\n  };\r\n\r\n  const getBackgroundColor = (colorName: string): string => {\r\n    const colorMap: { [key: string]: string } = {\r\n      'Black': '#262e33',\r\n      'Blue01': '#65C9FF',\r\n      'Blue02': '#5199E4',\r\n      'Blue03': '#25557C',\r\n      'Gray01': '#E6E6E6',\r\n      'Gray02': '#929598',\r\n      'Heather': '#3C4F5C',\r\n      'PastelBlue': '#B1E2FF',\r\n      'PastelGreen': '#A7FFC4',\r\n      'PastelOrange': '#FFDEB5',\r\n      'PastelRed': '#FFAFB9',\r\n      'PastelYellow': '#FFFFB1',\r\n      'Pink': '#FF488E',\r\n      'Red': '#C93305',\r\n      'White': '#FFFFFF'\r\n    };\r\n    return colorMap[colorName] || '#B1E2FF';\r\n  };\r\n\r\n  const formatTime = (seconds: number): string => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  if (!room) {\r\n    return (\r\n      <div className=\"game-host loading\">\r\n        <div>Î∞©ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"game-host\" onClick={handleCancelMode}>\r\n      <header className=\"game-header\">\r\n        <div className=\"game-title\">\r\n          <h1>üèÜ Í≥®Îì†Î≤® ÏßÑÌñâ</h1>\r\n          <span className=\"game-status\">\r\n            {gameState === 'waiting' ? 'ÎåÄÍ∏∞Ï§ë' : \r\n             gameState === 'playing' ? 'Î¨∏Ï†ú ÏßÑÌñâÏ§ë' :\r\n             gameState === 'paused' ? 'ÏùºÏãúÏ†ïÏßÄ' :\r\n             gameState === 'showingAnswer' ? 'Ï†ïÎãµ Í≥µÍ∞ú' : 'Í≤åÏûÑ Ï¢ÖÎ£å'}\r\n          </span>\r\n        </div>\r\n        \r\n        <div className=\"timer-display\">\r\n          <div className={`timer ${timeLeft <= 5 ? 'warning' : ''}`}>\r\n            ‚è±Ô∏è {formatTime(timeLeft)}\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"game-main\">\r\n        <div className=\"question-area\">\r\n          {gameState === 'waiting' ? (\r\n            <div className=\"waiting-message\">\r\n              <h2>ÎåÄÍ∏∞ Ï§ë</h2>\r\n              <p>Î¨∏Ï†úÍ∞Ä Ï†úÏãúÎê† ÎïåÍπåÏßÄ Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî</p>\r\n            </div>\r\n          ) : currentQuestion ? (\r\n            <div className=\"question-display\">\r\n              <div className=\"question-header\">\r\n                <span className=\"question-type\">\r\n                  {currentQuestion.type === 'ox' ? 'OX Î¨∏Ï†ú' :\r\n                   currentQuestion.type === 'multiple' ? 'Í∞ùÍ¥ÄÏãù' : 'Ï£ºÍ¥ÄÏãù'}\r\n                </span>\r\n                <span className=\"question-score\">{currentQuestion.score}Ï†ê</span>\r\n              </div>\r\n              \r\n              <h2 className=\"question-text\">{currentQuestion.question}</h2>\r\n              \r\n              {currentQuestion.type === 'ox' && (\r\n                <div className=\"ox-options\">\r\n                  <div className={`ox-option ${showAnswer && currentQuestion.correctAnswer === 'O' ? 'correct' : ''}`}>\r\n                    O (Ï∞∏)\r\n                  </div>\r\n                  <div className={`ox-option ${showAnswer && currentQuestion.correctAnswer === 'X' ? 'correct' : ''}`}>\r\n                    X (Í±∞Ïßì)\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {currentQuestion.type === 'multiple' && currentQuestion.options && (\r\n                <div className=\"multiple-options\">\r\n                  {currentQuestion.options.map((option: string, index: number) => (\r\n                    <div \r\n                      key={index} \r\n                      className={`multiple-option ${showAnswer && index === currentQuestion.correctAnswer ? 'correct' : ''}`}\r\n                    >\r\n                      <span className=\"option-number\">{index + 1}</span>\r\n                      <span className=\"option-text\">{option}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              \r\n              {currentQuestion.type === 'short' && showAnswer && (\r\n                <div className=\"short-answer\">\r\n                  <span className=\"answer-label\">Ï†ïÎãµ:</span>\r\n                  <span className=\"answer-text\">{currentQuestion.correctAnswer}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </main>\r\n\r\n      <footer className=\"game-footer\">\r\n        <div className=\"players-section\">\r\n          <div className=\"players-header\">\r\n            <h3>Ï∞∏Ïó¨Ïûê ÌòÑÌô©</h3>\r\n            <div className=\"player-stats\">\r\n              <span>Ï†ÑÏ≤¥: {players.length}Î™Ö</span>\r\n              <span>ÌÉàÎùΩ: {players.filter((p: Player) => p.isEliminated).length}Î™Ö</span>\r\n              <span>Ï†úÏ∂ú: {players.filter((p: Player) => p.hasSubmitted && !p.isEliminated).length}Î™Ö</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"players-grid\">\r\n            {sortPlayers(players).map(player => (\r\n              <div \r\n                key={player.id}\r\n                className={`player-avatar ${player.isEliminated ? 'eliminated' : ''} ${player.hasSubmitted ? 'submitted' : ''}`}\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handlePlayerClick(player.id);\r\n                }}\r\n              >\r\n                <div className=\"avatar-container\">\r\n                  <div \r\n                    className=\"avatar-background\"\r\n                    style={{ \r\n                      backgroundColor: getBackgroundColor(player.avatar.backgroundColor || 'PastelBlue'),\r\n                      filter: player.isEliminated ? 'grayscale(100%)' : 'none'\r\n                    }}\r\n                  >\r\n                    <Avatar\r\n                      style={{ width: '60px', height: '60px' }}\r\n                      avatarStyle=\"Transparent\"\r\n                      topType={player.avatar.topType || 'ShortHairShortFlat'}\r\n                      accessoriesType={player.avatar.accessoriesType || 'Blank'}\r\n                      hairColor={player.avatar.hairColor || 'BrownDark'}\r\n                      facialHairType=\"Blank\"\r\n                      facialHairColor=\"BrownDark\"\r\n                      clotheType=\"ShirtCrewNeck\"\r\n                      clotheColor={player.avatar.clotheColor || 'Blue01'}\r\n                      eyeType={player.avatar.eyeType || 'Happy'}\r\n                      eyebrowType={player.avatar.eyebrowType || 'Default'}\r\n                      mouthType={player.avatar.mouthType || 'Smile'}\r\n                      skinColor={player.avatar.skinColor || 'Light'}\r\n                    />\r\n                  </div>\r\n                  {player.hasSubmitted && !player.isEliminated && (\r\n                    <div className=\"submitted-indicator\">‚úì</div>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"player-info\">\r\n                  <div className=\"player-name\">\r\n                    {player.team && <span className=\"team-badge\">{player.team}</span>}\r\n                    {player.nickname}\r\n                  </div>\r\n                  <div className=\"player-score\">{player.score}Ï†ê</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        \r\n        {gameSettings.eliminationMode && (\r\n          <div className=\"elimination-controls\">\r\n            <button \r\n              className={`control-btn eliminate-btn ${eliminateMode ? 'active' : ''}`}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleEliminateMode();\r\n              }}\r\n            >\r\n              ‚ùå ÌÉàÎùΩÏãúÌÇ§Í∏∞\r\n            </button>\r\n            <button \r\n              className={`control-btn revive-btn ${reviveMode ? 'active' : ''}`}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleReviveMode();\r\n              }}\r\n            >\r\n              ‚≠ï Î∂ÄÌôúÏãúÌÇ§Í∏∞\r\n            </button>\r\n          </div>\r\n        )}\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameHost;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}