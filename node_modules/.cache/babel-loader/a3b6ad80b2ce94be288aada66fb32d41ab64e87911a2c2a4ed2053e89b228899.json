{"ast":null,"code":"import React,{useState}from'react';import'./Leaderboard.css';import{useNewGameContext}from'../contexts/NewGameContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LeaderboardModal=_ref=>{let{onClose}=_ref;const{state}=useNewGameContext();const{players}=state;const[tab,setTab]=useState('team');const teamRanks=Object.values(players.reduce((acc,p)=>{const key=p.team||'개인';acc[key]=acc[key]||{team:key,score:0};acc[key].score+=p.score;return acc;},{})).sort((a,b)=>b.score-a.score);const individualRanks=[...players].sort((a,b)=>b.score-a.score);return/*#__PURE__*/_jsx(\"div\",{className:\"lb-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"lb-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lb-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC21C\\uC704\"}),/*#__PURE__*/_jsx(\"button\",{className:\"lb-close\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lb-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"lb-tab \".concat(tab==='team'?'active':''),onClick:()=>setTab('team'),children:\"\\uD300 \\uC21C\\uC704\"}),/*#__PURE__*/_jsx(\"button\",{className:\"lb-tab \".concat(tab==='individual'?'active':''),onClick:()=>setTab('individual'),children:\"\\uAC1C\\uC778 \\uC21C\\uC704\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lb-content\",children:tab==='team'?/*#__PURE__*/_jsx(\"ol\",{className:\"lb-list\",children:teamRanks.map((t,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"rank\",children:i+1}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:t.team}),/*#__PURE__*/_jsxs(\"span\",{className:\"score\",children:[t.score,\"\\uC810\"]})]},t.team))}):/*#__PURE__*/_jsx(\"ol\",{className:\"lb-list\",children:individualRanks.map((p,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"rank\",children:i+1}),/*#__PURE__*/_jsxs(\"span\",{className:\"name\",children:[p.nickname,p.team?\" (\".concat(p.team,\")\"):'']}),/*#__PURE__*/_jsxs(\"span\",{className:\"score\",children:[p.score,\"\\uC810\"]})]},p.id))})})]})});};export default LeaderboardModal;","map":{"version":3,"names":["React","useState","useNewGameContext","jsx","_jsx","jsxs","_jsxs","LeaderboardModal","_ref","onClose","state","players","tab","setTab","teamRanks","Object","values","reduce","acc","p","key","team","score","sort","a","b","individualRanks","className","onClick","children","e","stopPropagation","concat","map","t","i","nickname","id"],"sources":["C:/Users/9204r/.cursor/avatar/src/components/Leaderboard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './Leaderboard.css';\nimport { useNewGameContext } from '../contexts/NewGameContext';\n\nconst LeaderboardModal: React.FC<{ onClose: () => void }> = ({ onClose }) => {\n  const { state } = useNewGameContext();\n  const { players } = state;\n  const [tab, setTab] = useState<'team' | 'individual'>('team');\n\n  const teamRanks = Object.values(\n    players.reduce((acc: any, p) => {\n      const key = p.team || '개인';\n      acc[key] = acc[key] || { team: key, score: 0 };\n      acc[key].score += p.score;\n      return acc;\n    }, {})\n  ).sort((a: any, b: any) => b.score - a.score);\n\n  const individualRanks = [...players].sort((a, b) => b.score - a.score);\n\n  return (\n    <div className=\"lb-overlay\" onClick={onClose}>\n      <div className=\"lb-modal\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"lb-header\">\n          <h3>순위</h3>\n          <button className=\"lb-close\" onClick={onClose}>×</button>\n        </div>\n        <div className=\"lb-tabs\">\n          <button className={`lb-tab ${tab==='team'?'active':''}`} onClick={() => setTab('team')}>팀 순위</button>\n          <button className={`lb-tab ${tab==='individual'?'active':''}`} onClick={() => setTab('individual')}>개인 순위</button>\n        </div>\n        <div className=\"lb-content\">\n          {tab === 'team' ? (\n            <ol className=\"lb-list\">\n              {teamRanks.map((t: any, i: number) => (\n                <li key={t.team}>\n                  <span className=\"rank\">{i+1}</span>\n                  <span className=\"name\">{t.team}</span>\n                  <span className=\"score\">{t.score}점</span>\n                </li>\n              ))}\n            </ol>\n          ) : (\n            <ol className=\"lb-list\">\n              {individualRanks.map((p, i) => (\n                <li key={p.id}>\n                  <span className=\"rank\">{i+1}</span>\n                  <span className=\"name\">{p.nickname}{p.team ? ` (${p.team})` : ''}</span>\n                  <span className=\"score\">{p.score}점</span>\n                </li>\n              ))}\n            </ol>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LeaderboardModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}