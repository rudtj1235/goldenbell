{"ast":null,"code":"/**\n * ÏÉàÎ°úÏö¥ Î™®Îìà Í∏∞Î∞ò Í≤åÏûÑ ÏßÑÌñâ ÌéòÏù¥ÏßÄ\n * Ïã§ÏãúÍ∞Ñ ÎèôÍ∏∞ÌôîÏôÄ Ï∞∏Ïó¨Ïûê ÌòÑÌô© Í¥ÄÎ¶¨\n */import React,{useState,useEffect,useRef}from'react';import{useNewGameContext}from'../contexts/NewGameContext';import eventBus from'../services/EventBus';import syncManager from'../services/SyncManager';import Avatar from'avataaars2';import'./GameHost.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NewGameHost=()=>{const[timeLeft,setTimeLeft]=useState(0);const[showAnswer,setShowAnswer]=useState(false);const[eliminateMode,setEliminateMode]=useState(false);const[reviveMode,setReviveMode]=useState(false);const[countdownActive,setCountdownActive]=useState(false);const{state,actions}=useNewGameContext();const{room,questions,players,gameState,currentQuestionIndex,gameSettings,phaseStartedAt,phaseDuration,paused}=state;const mountedAtRef=useRef(Date.now());const currentQuestion=gameState==='playing'||gameState==='showingAnswer'||gameState==='paused'?questions[currentQuestionIndex]||null:null;const getBackgroundColor=colorName=>{const colorMap={Black:'#262e33',Brown:'#8B4513',Red:'#C93305',Blue01:'#65C9FF',Blue02:'#5199E4',Blue03:'#25557C',Gray01:'#E6E6E6',Gray02:'#929598',Heather:'#3C4F5C',PastelBlue:'#B1E2FF',PastelGreen:'#A7FFC4',PastelOrange:'#FFDEB5',PastelRed:'#FFAFB9',PastelYellow:'#FFFFB1',Pink:'#FF488E',White:'#FFFFFF'};return colorMap[colorName]||'#B1E2FF';};useEffect(()=>{// Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Îì±Î°ù\nconst unsubscribers=[eventBus.on('GAME_STATE_CHANGE',handleGameStateChange),eventBus.on('NEXT_QUESTION',handleNextQuestion),eventBus.on('ANSWER_SHOWN',handleAnswerShown),eventBus.on('PLAYER_JOIN',handlePlayerJoin),eventBus.on('PLAYER_LEAVE',handlePlayerLeave),eventBus.on('ANSWER_SUBMITTED',handleAnswerSubmitted)];return()=>{unsubscribers.forEach(unsub=>unsub());};},[]);useEffect(()=>{console.info('[AUTO_FLOW] mount or state hydrate',{gameState,currentQuestionIndex,questions:questions===null||questions===void 0?void 0:questions.length,phaseStartedAt,phaseDuration,paused,autoMode:gameSettings.autoMode});},[]);useEffect(()=>{// Îã®Í≥Ñ Ï†ÑÌôò Ïãú ÌÉÄÏù¥Î®∏ Ï¥àÍ∏∞Ìôî\nif(gameState==='playing'&&currentQuestion){setTimeLeft(gameSettings.timeLimit);setShowAnswer(false);setCountdownActive(true);console.info('[AUTO_TIMER] enter playing',{index:currentQuestionIndex,timeLimit:gameSettings.timeLimit});}else if(gameState==='showingAnswer'){setTimeLeft(gameSettings.answerRevealTime);setShowAnswer(true);setCountdownActive(true);console.info('[AUTO_TIMER] enter showingAnswer',{index:currentQuestionIndex,answerRevealTime:gameSettings.answerRevealTime});}else{setCountdownActive(false);}},[gameState,currentQuestion,gameSettings.answerRevealTime]);useEffect(()=>{// ÏÑúÎ≤Ñ/Î∏åÎ°úÎìúÏ∫êÏä§Ìä∏ Í∏∞Ï§Ä ÎÇ®ÏùÄ ÏãúÍ∞Ñ Í≥ÑÏÇ∞\nif((gameState==='playing'||gameState==='showingAnswer')&&phaseStartedAt&&phaseDuration&&!paused){const elapsed=Math.floor((Date.now()-phaseStartedAt)/1000);const remain=Math.max(0,(phaseDuration||0)-elapsed);setTimeLeft(remain);setCountdownActive(true);console.debug('[AUTO_TIMER] phase sync',{gameState,now:Date.now(),phaseStartedAt,phaseDuration,elapsed,remain,paused});}},[gameState,phaseStartedAt,phaseDuration,paused]);useEffect(()=>{if(!countdownActive)return;if(!(gameState==='playing'||gameState==='showingAnswer'))return;if(paused)return;const timer=setInterval(()=>{setTimeLeft(prev=>{const next=Math.max(0,prev-1);return next;});},1000);return()=>clearInterval(timer);},[countdownActive,gameState,paused]);useEffect(()=>{if(timeLeft===3||timeLeft===2||timeLeft===1||timeLeft===0){console.debug('[AUTO_TIMER] tick',{gameState,timeLeft});}},[timeLeft,gameState]);useEffect(()=>{if(!(gameState==='playing'||gameState==='showingAnswer'))return;if(timeLeft>0)return;// ÏÉàÎ°ú Ïó¥Î¶∞ ÏßÑÌñâÌéòÏù¥ÏßÄÏóêÏÑú Ï¶âÏãú Îã®Í≥Ñ Ï†ÑÌôòÎêòÎäî ÌòÑÏÉÅ Î∞©ÏßÄ: ÎßàÏö¥Ìä∏ ÌõÑ ÏßßÏùÄ Ïú†Ïòà\nconst mountedForMs=Date.now()-mountedAtRef.current;if(mountedForMs<1500)return;// Ïã§Ï†ú ÎßåÎ£å Í≤ÄÏ¶ù(ÏÑúÎ≤Ñ Í∏∞Ï§Ä ÏãúÍ∞Ñ) ÌõÑÏóêÎßå ÏûêÎèô Ï†ÑÌôò\nconst expired=!!(phaseStartedAt&&phaseDuration&&(Date.now()-phaseStartedAt)/1000>=phaseDuration);if(!expired){console.warn('[AUTO_FLOW] not expired by server time yet',{now:Date.now(),phaseStartedAt,phaseDuration,diffSec:phaseStartedAt?Math.floor((Date.now()-phaseStartedAt)/1000):null});return;}setCountdownActive(false);if(!gameSettings.autoMode)return;if(gameState==='playing'){console.info('[AUTO_FLOW] calling showAnswer due to timeout',{index:currentQuestionIndex});actions.showAnswer();}else if(gameState==='showingAnswer'){console.info('[AUTO_FLOW] calling nextQuestion due to timeout',{index:currentQuestionIndex});actions.nextQuestion();}},[timeLeft,gameState,gameSettings.autoMode,actions,phaseStartedAt,phaseDuration]);// ÏãúÍ∞Ñ Ï°∞Ï†ï Ïù¥Î≤§Ìä∏\nuseEffect(()=>{const unsub=eventBus.on('ADJUST_TIME',delta=>{setTimeLeft(prev=>Math.max(0,prev+(Number(delta)||0)));});return()=>unsub();},[]);// ÌÉ≠ Í∞Ñ ÏãúÍ∞Ñ Ï°∞Ï†ï ÎèôÍ∏∞Ìôî\nuseEffect(()=>{var _addEventListener,_ref;const handler=delta=>{setTimeLeft(prev=>Math.max(0,prev+(Number(delta)||0)));};(_addEventListener=(_ref=syncManager).addEventListener)===null||_addEventListener===void 0?void 0:_addEventListener.call(_ref,'ADJUST_TIME',handler);return()=>{try{var _removeEventListener,_ref2;(_removeEventListener=(_ref2=syncManager).removeEventListener)===null||_removeEventListener===void 0?void 0:_removeEventListener.call(_ref2,'ADJUST_TIME',handler);}catch(_unused){}};},[]);const handleGameStateChange=data=>{console.log('üéÆ Í≤åÏûÑ ÏÉÅÌÉú Î≥ÄÍ≤Ω:',data);};const handleNextQuestion=data=>{console.log('‚û°Ô∏è Îã§Ïùå Î¨∏Ï†ú:',data);setShowAnswer(false);};const handleAnswerShown=data=>{console.log('üí° Ï†ïÎãµ Í≥µÍ∞ú:',data);setShowAnswer(true);};const handlePlayerJoin=player=>{console.log('üë§ ÏÉà Ï∞∏Ïó¨Ïûê:',player.nickname);};const handlePlayerLeave=playerId=>{console.log('üë§ Ï∞∏Ïó¨Ïûê Ìá¥Ïû•:',playerId);};const handleAnswerSubmitted=data=>{console.log('üìù ÎãµÏïà Ï†úÏ∂ú:',data);};const handlePlayerClick=playerId=>{if(eliminateMode){actions.eliminatePlayer(playerId);setEliminateMode(false);document.body.style.cursor='default';}else if(reviveMode){actions.revivePlayer(playerId);setReviveMode(false);document.body.style.cursor='default';}};const handleEliminateMode=()=>{setEliminateMode(true);setReviveMode(false);document.body.style.cursor='url(\"data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'24\\' height=\\'24\\' viewBox=\\'0 0 24 24\\'><text y=\\'18\\' font-size=\\'18\\'>‚ùå</text></svg>\") 12 12, auto';};const handleReviveMode=()=>{setReviveMode(true);setEliminateMode(false);document.body.style.cursor='url(\"data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'24\\' height=\\'24\\' viewBox=\\'0 0 24 24\\'><text y=\\'18\\' font-size=\\'18\\'>‚úÖ</text></svg>\") 12 12, auto';};const cancelMode=()=>{setEliminateMode(false);setReviveMode(false);document.body.style.cursor='default';};const sortPlayers=players=>{return[...players].sort((a,b)=>{// ÌÉàÎùΩÏûêÎ•º Îí§Î°ú\nif(a.isEliminated!==b.isEliminated){return a.isEliminated?1:-1;}// Ï†êÏàò ÏàúÏúºÎ°ú Ï†ïÎ†¨\nreturn b.score-a.score;});};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins,\":\").concat(secs.toString().padStart(2,'0'));};if(!room){return/*#__PURE__*/_jsx(\"div\",{className:\"game-host loading\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uAC8C\\uC784 \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC7A0\\uC2DC\\uB9CC \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694.\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"game-host\",children:[(gameState==='playing'||gameState==='paused'||gameState==='showingAnswer')&&/*#__PURE__*/_jsx(\"div\",{className:\"game-timer\",style:{position:'fixed',top:12,right:12},children:/*#__PURE__*/_jsxs(\"div\",{className:\"timer \".concat(timeLeft<=5?'warning':''),children:[\"\\u23F1\\uFE0F \",formatTime(timeLeft)]})}),/*#__PURE__*/_jsx(\"main\",{className:\"game-main\",children:currentQuestion?/*#__PURE__*/_jsxs(\"div\",{className:\"question-display\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"question-header\",style:{marginBottom:20,display:'flex',justifyContent:'space-between',alignItems:'center'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"question-info\",style:{display:'flex',gap:12,alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"span\",{className:\"question-number\",children:[\"\\uBB38\\uC81C \",currentQuestionIndex+1,\"/\",questions.length]}),/*#__PURE__*/_jsxs(\"span\",{className:\"question-score\",children:[\"\\uBC30\\uC810: \",currentQuestion.score,\"\\uC810\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"question-text\",children:currentQuestion.question}),currentQuestion.image&&/*#__PURE__*/_jsx(\"div\",{className:\"question-image\",children:/*#__PURE__*/_jsx(\"img\",{src:currentQuestion.image,alt:\"\\uBB38\\uC81C \\uC774\\uBBF8\\uC9C0\"})}),currentQuestion.type==='ox'&&/*#__PURE__*/_jsxs(\"div\",{className:\"ox-options\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ox-option \".concat(showAnswer&&currentQuestion.correctAnswer==='O'?'correct':''),children:\"O (\\uCC38)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ox-option \".concat(showAnswer&&currentQuestion.correctAnswer==='X'?'correct':''),children:\"X (\\uAC70\\uC9D3)\"})]}),currentQuestion.type==='multiple'&&currentQuestion.options&&/*#__PURE__*/_jsx(\"div\",{className:\"multiple-options\",children:currentQuestion.options.map((option,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"multiple-option \".concat(showAnswer&&index===currentQuestion.correctAnswer?'correct':''),children:[/*#__PURE__*/_jsx(\"span\",{className:\"option-number\",children:index+1}),/*#__PURE__*/_jsx(\"span\",{className:\"option-text\",children:option})]},index))}),currentQuestion.type==='short'&&/*#__PURE__*/_jsxs(\"div\",{className:\"short-answer\",style:{background:showAnswer?'#28a745':'#f8f9fa',color:showAnswer?'#fff':'#333'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC815\\uB2F5\"}),/*#__PURE__*/_jsx(\"p\",{className:\"answer-text\",children:showAnswer?String(currentQuestion.correctAnswer):'Ï†ïÎãµ Í≥µÍ∞ú ÎåÄÍ∏∞'})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"no-question\",children:gameState==='waiting'||gameState==='paused'?/*#__PURE__*/_jsxs(\"div\",{className:\"waiting-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFAF \\uB300\\uAE30\\uC911\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBB38\\uC81C\\uB97C \\uCD94\\uAC00\\uD558\\uAC70\\uB098 \\uAC8C\\uC784\\uC744 \\uC2DC\\uC791\\uD574 \\uC8FC\\uC138\\uC694.\"})]}):gameState==='finished'?/*#__PURE__*/_jsxs(\"div\",{className:\"finished-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDF89 \\uAC8C\\uC784\\uC774 \\uC885\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBAA8\\uB4E0 \\uBB38\\uC81C\\uAC00 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"})]}):/*#__PURE__*/// ÎÇ®ÏùÄ Î¨∏Ï†úÍ∞Ä ÏóÜÍ≥† Ï¢ÖÎ£åÍ∞Ä ÏïÑÎãå Í≤ΩÏö∞ ÎåÄÍ∏∞ Ï≤òÎ¶¨\n_jsxs(\"div\",{className:\"waiting-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFAF \\uB300\\uAE30\\uC911\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uBB38\\uC81C\\uB97C \\uCD94\\uAC00\\uD558\\uAC70\\uB098 \\uAC8C\\uC784\\uC744 \\uC2DC\\uC791\\uD574 \\uC8FC\\uC138\\uC694.\"})]})})}),/*#__PURE__*/_jsx(\"footer\",{className:\"game-footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"players-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"players-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uCC38\\uC5EC\\uC790 \\uD604\\uD669\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-stats\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC804\\uCCB4: \",players.length,\"\\uBA85\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD0C8\\uB77D: \",players.filter(p=>p.isEliminated).length,\"\\uBA85\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC81C\\uCD9C: \",players.filter(p=>p.hasSubmitted&&!p.isEliminated).length,\"\\uBA85\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"players-grid\",children:[sortPlayers(players).map(player=>{var _player$avatar,_player$avatar2,_player$avatar3,_player$avatar4,_player$avatar5,_player$avatar6,_player$avatar7,_player$avatar8,_player$avatar9;return/*#__PURE__*/_jsxs(\"div\",{className:\"player-card \".concat(player.isEliminated?'eliminated':'',\" \").concat(player.hasSubmitted?'submitted':'',\" \").concat(eliminateMode||reviveMode?'clickable':''),onClick:()=>handlePlayerClick(player.id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"player-avatar\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"hover-action\",onClick:e=>{e.stopPropagation();if(player.isEliminated){actions.revivePlayer(player.id);}else{actions.eliminatePlayer(player.id);}},children:player.isEliminated?'ÏÇ¥Î¶¨Í∏∞':'ÌÉàÎùΩÏãúÌÇ§Í∏∞'}),/*#__PURE__*/_jsx(\"div\",{className:\"avatar-background\",style:{backgroundColor:getBackgroundColor(((_player$avatar=player.avatar)===null||_player$avatar===void 0?void 0:_player$avatar.backgroundColor)||'PastelBlue')},children:/*#__PURE__*/_jsx(Avatar,{style:{width:'50px',height:'50px'},avatarStyle:\"Transparent\",topType:((_player$avatar2=player.avatar)===null||_player$avatar2===void 0?void 0:_player$avatar2.topType)||'ShortHairShortFlat',accessoriesType:((_player$avatar3=player.avatar)===null||_player$avatar3===void 0?void 0:_player$avatar3.accessoriesType)||'Blank',hairColor:((_player$avatar4=player.avatar)===null||_player$avatar4===void 0?void 0:_player$avatar4.hairColor)||'BrownDark',facialHairType:\"Blank\",facialHairColor:\"BrownDark\",clotheType:\"ShirtCrewNeck\",clotheColor:((_player$avatar5=player.avatar)===null||_player$avatar5===void 0?void 0:_player$avatar5.clotheColor)||'Blue01',eyeType:((_player$avatar6=player.avatar)===null||_player$avatar6===void 0?void 0:_player$avatar6.eyeType)||'Happy',eyebrowType:((_player$avatar7=player.avatar)===null||_player$avatar7===void 0?void 0:_player$avatar7.eyebrowType)||'Default',mouthType:((_player$avatar8=player.avatar)===null||_player$avatar8===void 0?void 0:_player$avatar8.mouthType)||'Smile',skinColor:((_player$avatar9=player.avatar)===null||_player$avatar9===void 0?void 0:_player$avatar9.skinColor)||'Light'})}),player.hasSubmitted&&!player.isEliminated&&/*#__PURE__*/_jsx(\"div\",{className:\"submitted-indicator\",children:\"\\u2713\"}),player.isEliminated&&/*#__PURE__*/_jsx(\"div\",{className:\"eliminated-overlay\",children:\"\\u274C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"player-name\",children:player.nickname}),/*#__PURE__*/_jsxs(\"span\",{className:\"player-score\",children:[player.score,\"\\uC810\"]}),player.team&&/*#__PURE__*/_jsxs(\"span\",{className:\"player-team\",children:[player.team,\"\\uD300\"]})]})]},player.id);}),players.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"no-players\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uC544\\uC9C1 \\uCC38\\uC5EC\\uC790\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsxs(\"small\",{children:[\"\\uBC29 \\uCF54\\uB4DC: \",/*#__PURE__*/_jsx(\"strong\",{children:room.code})]})]})]})]})})]});};export default NewGameHost;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNewGameContext","eventBus","syncManager","Avatar","jsx","_jsx","jsxs","_jsxs","NewGameHost","timeLeft","setTimeLeft","showAnswer","setShowAnswer","eliminateMode","setEliminateMode","reviveMode","setReviveMode","countdownActive","setCountdownActive","state","actions","room","questions","players","gameState","currentQuestionIndex","gameSettings","phaseStartedAt","phaseDuration","paused","mountedAtRef","Date","now","currentQuestion","getBackgroundColor","colorName","colorMap","Black","Brown","Red","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","White","unsubscribers","on","handleGameStateChange","handleNextQuestion","handleAnswerShown","handlePlayerJoin","handlePlayerLeave","handleAnswerSubmitted","forEach","unsub","console","info","length","autoMode","timeLimit","index","answerRevealTime","elapsed","Math","floor","remain","max","debug","timer","setInterval","prev","next","clearInterval","mountedForMs","current","expired","warn","diffSec","nextQuestion","delta","Number","_addEventListener","_ref","handler","addEventListener","call","_removeEventListener","_ref2","removeEventListener","_unused","data","log","player","nickname","playerId","handlePlayerClick","eliminatePlayer","document","body","style","cursor","revivePlayer","handleEliminateMode","handleReviveMode","cancelMode","sortPlayers","sort","a","b","isEliminated","score","formatTime","seconds","mins","secs","concat","toString","padStart","className","children","position","top","right","marginBottom","display","justifyContent","alignItems","gap","flexWrap","question","image","src","alt","type","correctAnswer","options","map","option","background","color","String","filter","p","hasSubmitted","_player$avatar","_player$avatar2","_player$avatar3","_player$avatar4","_player$avatar5","_player$avatar6","_player$avatar7","_player$avatar8","_player$avatar9","onClick","id","e","stopPropagation","backgroundColor","avatar","width","height","avatarStyle","topType","accessoriesType","hairColor","facialHairType","facialHairColor","clotheType","clotheColor","eyeType","eyebrowType","mouthType","skinColor","team","code"],"sources":["C:/Users/9204r/.cursor/avatar/src/components/NewGameHost.tsx"],"sourcesContent":["/**\n * ÏÉàÎ°úÏö¥ Î™®Îìà Í∏∞Î∞ò Í≤åÏûÑ ÏßÑÌñâ ÌéòÏù¥ÏßÄ\n * Ïã§ÏãúÍ∞Ñ ÎèôÍ∏∞ÌôîÏôÄ Ï∞∏Ïó¨Ïûê ÌòÑÌô© Í¥ÄÎ¶¨\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Player } from '../types/game';\nimport { useNewGameContext } from '../contexts/NewGameContext';\nimport eventBus from '../services/EventBus';\nimport syncManager from '../services/SyncManager';\nimport Avatar from 'avataaars2';\nimport './GameHost.css';\n\nconst NewGameHost: React.FC = () => {\n  const [timeLeft, setTimeLeft] = useState<number>(0);\n  const [showAnswer, setShowAnswer] = useState(false);\n  const [eliminateMode, setEliminateMode] = useState(false);\n  const [reviveMode, setReviveMode] = useState(false);\n  const [countdownActive, setCountdownActive] = useState(false);\n\n  const { state, actions } = useNewGameContext();\n  const { room, questions, players, gameState, currentQuestionIndex, gameSettings, phaseStartedAt, phaseDuration, paused } = state;\n  const mountedAtRef = useRef<number>(Date.now());\n  \n  const currentQuestion = (gameState === 'playing' || gameState === 'showingAnswer' || gameState === 'paused')\n    ? (questions[currentQuestionIndex] || null)\n    : null;\n\n  const getBackgroundColor = (colorName: string): string => {\n    const colorMap: { [key: string]: string } = {\n      Black: '#262e33', Brown: '#8B4513', Red: '#C93305',\n      Blue01: '#65C9FF', Blue02: '#5199E4', Blue03: '#25557C',\n      Gray01: '#E6E6E6', Gray02: '#929598', Heather: '#3C4F5C',\n      PastelBlue: '#B1E2FF', PastelGreen: '#A7FFC4', PastelOrange: '#FFDEB5',\n      PastelRed: '#FFAFB9', PastelYellow: '#FFFFB1', Pink: '#FF488E', White: '#FFFFFF'\n    };\n    return colorMap[colorName] || '#B1E2FF';\n  };\n\n  useEffect(() => {\n    // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Îì±Î°ù\n    const unsubscribers = [\n      eventBus.on('GAME_STATE_CHANGE', handleGameStateChange),\n      eventBus.on('NEXT_QUESTION', handleNextQuestion),\n      eventBus.on('ANSWER_SHOWN', handleAnswerShown),\n      eventBus.on('PLAYER_JOIN', handlePlayerJoin),\n      eventBus.on('PLAYER_LEAVE', handlePlayerLeave),\n      eventBus.on('ANSWER_SUBMITTED', handleAnswerSubmitted)\n    ];\n\n    return () => {\n      unsubscribers.forEach(unsub => unsub());\n    };\n  }, []);\n\n  useEffect(() => {\n    console.info('[AUTO_FLOW] mount or state hydrate', {\n      gameState,\n      currentQuestionIndex,\n      questions: questions?.length,\n      phaseStartedAt,\n      phaseDuration,\n      paused,\n      autoMode: gameSettings.autoMode\n    });\n  }, []);\n\n  useEffect(() => {\n    // Îã®Í≥Ñ Ï†ÑÌôò Ïãú ÌÉÄÏù¥Î®∏ Ï¥àÍ∏∞Ìôî\n    if (gameState === 'playing' && currentQuestion) {\n      setTimeLeft(gameSettings.timeLimit);\n      setShowAnswer(false);\n      setCountdownActive(true);\n      console.info('[AUTO_TIMER] enter playing', {\n        index: currentQuestionIndex,\n        timeLimit: gameSettings.timeLimit\n      });\n    } else if (gameState === 'showingAnswer') {\n      setTimeLeft(gameSettings.answerRevealTime);\n      setShowAnswer(true);\n      setCountdownActive(true);\n      console.info('[AUTO_TIMER] enter showingAnswer', {\n        index: currentQuestionIndex,\n        answerRevealTime: gameSettings.answerRevealTime\n      });\n    } else {\n      setCountdownActive(false);\n    }\n  }, [gameState, currentQuestion, gameSettings.answerRevealTime]);\n\n  useEffect(() => {\n    // ÏÑúÎ≤Ñ/Î∏åÎ°úÎìúÏ∫êÏä§Ìä∏ Í∏∞Ï§Ä ÎÇ®ÏùÄ ÏãúÍ∞Ñ Í≥ÑÏÇ∞\n    if ((gameState === 'playing' || gameState === 'showingAnswer') && phaseStartedAt && phaseDuration && !paused) {\n      const elapsed = Math.floor((Date.now() - phaseStartedAt) / 1000);\n      const remain = Math.max(0, (phaseDuration || 0) - elapsed);\n      setTimeLeft(remain);\n      setCountdownActive(true);\n      console.debug('[AUTO_TIMER] phase sync', {\n        gameState,\n        now: Date.now(),\n        phaseStartedAt,\n        phaseDuration,\n        elapsed,\n        remain,\n        paused\n      });\n    }\n  }, [gameState, phaseStartedAt, phaseDuration, paused]);\n\n  useEffect(() => {\n    if (!countdownActive) return;\n    if (!(gameState === 'playing' || gameState === 'showingAnswer')) return;\n    if (paused) return;\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        const next = Math.max(0, prev - 1);\n        return next;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [countdownActive, gameState, paused]);\n\n  useEffect(() => {\n    if (timeLeft === 3 || timeLeft === 2 || timeLeft === 1 || timeLeft === 0) {\n      console.debug('[AUTO_TIMER] tick', { gameState, timeLeft });\n    }\n  }, [timeLeft, gameState]);\n\n  useEffect(() => {\n    if (!(gameState === 'playing' || gameState === 'showingAnswer')) return;\n    if (timeLeft > 0) return;\n    // ÏÉàÎ°ú Ïó¥Î¶∞ ÏßÑÌñâÌéòÏù¥ÏßÄÏóêÏÑú Ï¶âÏãú Îã®Í≥Ñ Ï†ÑÌôòÎêòÎäî ÌòÑÏÉÅ Î∞©ÏßÄ: ÎßàÏö¥Ìä∏ ÌõÑ ÏßßÏùÄ Ïú†Ïòà\n    const mountedForMs = Date.now() - mountedAtRef.current;\n    if (mountedForMs < 1500) return;\n    // Ïã§Ï†ú ÎßåÎ£å Í≤ÄÏ¶ù(ÏÑúÎ≤Ñ Í∏∞Ï§Ä ÏãúÍ∞Ñ) ÌõÑÏóêÎßå ÏûêÎèô Ï†ÑÌôò\n    const expired = !!(phaseStartedAt && phaseDuration && (Date.now() - phaseStartedAt) / 1000 >= phaseDuration);\n    if (!expired) {\n      console.warn('[AUTO_FLOW] not expired by server time yet', {\n        now: Date.now(), phaseStartedAt, phaseDuration,\n        diffSec: phaseStartedAt ? Math.floor((Date.now() - phaseStartedAt) / 1000) : null\n      });\n      return;\n    }\n    setCountdownActive(false);\n    if (!gameSettings.autoMode) return;\n    if (gameState === 'playing') {\n      console.info('[AUTO_FLOW] calling showAnswer due to timeout', {\n        index: currentQuestionIndex\n      });\n      actions.showAnswer();\n    } else if (gameState === 'showingAnswer') {\n      console.info('[AUTO_FLOW] calling nextQuestion due to timeout', {\n        index: currentQuestionIndex\n      });\n      actions.nextQuestion();\n    }\n  }, [timeLeft, gameState, gameSettings.autoMode, actions, phaseStartedAt, phaseDuration]);\n\n  // ÏãúÍ∞Ñ Ï°∞Ï†ï Ïù¥Î≤§Ìä∏\n  useEffect(() => {\n    const unsub = eventBus.on('ADJUST_TIME', (delta: number) => {\n      setTimeLeft(prev => Math.max(0, prev + (Number(delta) || 0)));\n    });\n    return () => unsub();\n  }, []);\n\n  // ÌÉ≠ Í∞Ñ ÏãúÍ∞Ñ Ï°∞Ï†ï ÎèôÍ∏∞Ìôî\n  useEffect(() => {\n    const handler = (delta: number) => {\n      setTimeLeft(prev => Math.max(0, prev + (Number(delta) || 0)));\n    };\n    (syncManager as any).addEventListener?.('ADJUST_TIME', handler);\n    return () => {\n      try { (syncManager as any).removeEventListener?.('ADJUST_TIME', handler); } catch {}\n    };\n  }, []);\n\n  const handleGameStateChange = (data: any) => {\n    console.log('üéÆ Í≤åÏûÑ ÏÉÅÌÉú Î≥ÄÍ≤Ω:', data);\n  };\n\n  const handleNextQuestion = (data: any) => {\n    console.log('‚û°Ô∏è Îã§Ïùå Î¨∏Ï†ú:', data);\n    setShowAnswer(false);\n  };\n\n  const handleAnswerShown = (data: any) => {\n    console.log('üí° Ï†ïÎãµ Í≥µÍ∞ú:', data);\n    setShowAnswer(true);\n  };\n\n  const handlePlayerJoin = (player: Player) => {\n    console.log('üë§ ÏÉà Ï∞∏Ïó¨Ïûê:', player.nickname);\n  };\n\n  const handlePlayerLeave = (playerId: string) => {\n    console.log('üë§ Ï∞∏Ïó¨Ïûê Ìá¥Ïû•:', playerId);\n  };\n\n  const handleAnswerSubmitted = (data: any) => {\n    console.log('üìù ÎãµÏïà Ï†úÏ∂ú:', data);\n  };\n\n  const handlePlayerClick = (playerId: string) => {\n    if (eliminateMode) {\n      actions.eliminatePlayer(playerId);\n      setEliminateMode(false);\n      document.body.style.cursor = 'default';\n    } else if (reviveMode) {\n      actions.revivePlayer(playerId);\n      setReviveMode(false);\n      document.body.style.cursor = 'default';\n    }\n  };\n\n  const handleEliminateMode = () => {\n    setEliminateMode(true);\n    setReviveMode(false);\n    document.body.style.cursor = 'url(\"data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'24\\' height=\\'24\\' viewBox=\\'0 0 24 24\\'><text y=\\'18\\' font-size=\\'18\\'>‚ùå</text></svg>\") 12 12, auto';\n  };\n\n  const handleReviveMode = () => {\n    setReviveMode(true);\n    setEliminateMode(false);\n    document.body.style.cursor = 'url(\"data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'24\\' height=\\'24\\' viewBox=\\'0 0 24 24\\'><text y=\\'18\\' font-size=\\'18\\'>‚úÖ</text></svg>\") 12 12, auto';\n  };\n\n  const cancelMode = () => {\n    setEliminateMode(false);\n    setReviveMode(false);\n    document.body.style.cursor = 'default';\n  };\n\n  const sortPlayers = (players: Player[]): Player[] => {\n    return [...players].sort((a, b) => {\n      // ÌÉàÎùΩÏûêÎ•º Îí§Î°ú\n      if (a.isEliminated !== b.isEliminated) {\n        return a.isEliminated ? 1 : -1;\n      }\n      // Ï†êÏàò ÏàúÏúºÎ°ú Ï†ïÎ†¨\n      return b.score - a.score;\n    });\n  };\n\n  const formatTime = (seconds: number): string => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  if (!room) {\n    return (\n      <div className=\"game-host loading\">\n        <div className=\"loading-message\">\n          <h2>Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</h2>\n          <p>Ïû†ÏãúÎßå Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"game-host\">\n      {(gameState === 'playing' || gameState === 'paused' || gameState === 'showingAnswer') && (\n        <div className=\"game-timer\" style={{ position: 'fixed', top: 12, right: 12 }}>\n          <div className={`timer ${timeLeft <= 5 ? 'warning' : ''}`}>‚è±Ô∏è {formatTime(timeLeft)}</div>\n        </div>\n      )}\n\n      <main className=\"game-main\">\n            {currentQuestion ? (\n          <div className=\"question-display\">\n            <div className=\"question-header\" style={{ marginBottom: 20, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n              <div className=\"question-info\" style={{ display: 'flex', gap: 12, alignItems: 'center', flexWrap: 'wrap' }}>\n                <span className=\"question-number\">Î¨∏Ï†ú {currentQuestionIndex + 1}/{questions.length}</span>\n                <span className=\"question-score\">Î∞∞Ï†ê: {currentQuestion.score}Ï†ê</span>\n              </div>\n            </div>\n\n            <div className=\"question-content\">\n              <h2 className=\"question-text\">{currentQuestion.question}</h2>\n\n              {currentQuestion.image && (\n                <div className=\"question-image\">\n                  <img src={currentQuestion.image} alt=\"Î¨∏Ï†ú Ïù¥ÎØ∏ÏßÄ\" />\n                </div>\n              )}\n\n              {currentQuestion.type === 'ox' && (\n                <div className=\"ox-options\">\n                  <div className={`ox-option ${showAnswer && currentQuestion.correctAnswer === 'O' ? 'correct' : ''}`}>O (Ï∞∏)</div>\n                  <div className={`ox-option ${showAnswer && currentQuestion.correctAnswer === 'X' ? 'correct' : ''}`}>X (Í±∞Ïßì)</div>\n                </div>\n              )}\n\n              {currentQuestion.type === 'multiple' && currentQuestion.options && (\n                <div className=\"multiple-options\">\n                  {currentQuestion.options.map((option: string, index: number) => (\n                    <div key={index} className={`multiple-option ${showAnswer && index === currentQuestion.correctAnswer ? 'correct' : ''}`}>\n                      <span className=\"option-number\">{index + 1}</span>\n                      <span className=\"option-text\">{option}</span>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {currentQuestion.type === 'short' && (\n                <div className=\"short-answer\" style={{ background: showAnswer ? '#28a745' : '#f8f9fa', color: showAnswer ? '#fff' : '#333' }}>\n                  <h3>Ï†ïÎãµ</h3>\n                  <p className=\"answer-text\">{showAnswer ? String(currentQuestion.correctAnswer) : 'Ï†ïÎãµ Í≥µÍ∞ú ÎåÄÍ∏∞'}</p>\n                </div>\n              )}\n            </div>\n          </div>\n        ) : (\n          <div className=\"no-question\">\n            {gameState === 'waiting' || gameState === 'paused' ? (\n              <div className=\"waiting-message\">\n                <h2>üéØ ÎåÄÍ∏∞Ï§ë</h2>\n                <p>Î¨∏Ï†úÎ•º Ï∂îÍ∞ÄÌïòÍ±∞ÎÇò Í≤åÏûÑÏùÑ ÏãúÏûëÌï¥ Ï£ºÏÑ∏Ïöî.</p>\n              </div>\n            ) : gameState === 'finished' ? (\n              <div className=\"finished-message\">\n                <h2>üéâ Í≤åÏûÑÏù¥ Ï¢ÖÎ£åÎêòÏóàÏäµÎãàÎã§!</h2>\n                <p>Î™®Îì† Î¨∏Ï†úÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.</p>\n              </div>\n            ) : (\n              // ÎÇ®ÏùÄ Î¨∏Ï†úÍ∞Ä ÏóÜÍ≥† Ï¢ÖÎ£åÍ∞Ä ÏïÑÎãå Í≤ΩÏö∞ ÎåÄÍ∏∞ Ï≤òÎ¶¨\n              <div className=\"waiting-message\">\n                <h2>üéØ ÎåÄÍ∏∞Ï§ë</h2>\n                <p>Î¨∏Ï†úÎ•º Ï∂îÍ∞ÄÌïòÍ±∞ÎÇò Í≤åÏûÑÏùÑ ÏãúÏûëÌï¥ Ï£ºÏÑ∏Ïöî.</p>\n              </div>\n            )}\n          </div>\n        )}\n      </main>\n\n      <footer className=\"game-footer\">\n        <div className=\"players-section\">\n          <div className=\"players-header\">\n            <h3>Ï∞∏Ïó¨Ïûê ÌòÑÌô©</h3>\n            <div className=\"player-stats\">\n              <span>Ï†ÑÏ≤¥: {players.length}Î™Ö</span>\n              <span>ÌÉàÎùΩ: {players.filter((p: Player) => p.isEliminated).length}Î™Ö</span>\n              <span>Ï†úÏ∂ú: {players.filter((p: Player) => p.hasSubmitted && !p.isEliminated).length}Î™Ö</span>\n            </div>\n          </div>\n          \n          <div className=\"players-grid\">\n            {sortPlayers(players).map(player => (\n              <div \n                key={player.id}\n                className={`player-card ${player.isEliminated ? 'eliminated' : ''} ${\n                  player.hasSubmitted ? 'submitted' : ''\n                } ${eliminateMode || reviveMode ? 'clickable' : ''}`}\n                onClick={() => handlePlayerClick(player.id)}\n              >\n                <div className=\"player-avatar\">\n                  <button className=\"hover-action\" onClick={(e) => {\n                    e.stopPropagation();\n                    if (player.isEliminated) {\n                      actions.revivePlayer(player.id);\n                    } else {\n                      actions.eliminatePlayer(player.id);\n                    }\n                  }}>\n                    {player.isEliminated ? 'ÏÇ¥Î¶¨Í∏∞' : 'ÌÉàÎùΩÏãúÌÇ§Í∏∞'}\n                  </button>\n                  <div \n                    className=\"avatar-background\"\n                    style={{ backgroundColor: getBackgroundColor(player.avatar?.backgroundColor || 'PastelBlue') }}\n                  >\n                    <Avatar\n                      style={{ width: '50px', height: '50px' }}\n                      avatarStyle=\"Transparent\"\n                      topType={player.avatar?.topType || 'ShortHairShortFlat'}\n                      accessoriesType={player.avatar?.accessoriesType || 'Blank'}\n                      hairColor={player.avatar?.hairColor || 'BrownDark'}\n                      facialHairType=\"Blank\"\n                      facialHairColor=\"BrownDark\"\n                      clotheType=\"ShirtCrewNeck\"\n                      clotheColor={player.avatar?.clotheColor || 'Blue01'}\n                      eyeType={player.avatar?.eyeType || 'Happy'}\n                      eyebrowType={player.avatar?.eyebrowType || 'Default'}\n                      mouthType={player.avatar?.mouthType || 'Smile'}\n                      skinColor={player.avatar?.skinColor || 'Light'}\n                    />\n                  </div>\n                  {player.hasSubmitted && !player.isEliminated && (\n                    <div className=\"submitted-indicator\">‚úì</div>\n                  )}\n                  {player.isEliminated && (\n                    <div className=\"eliminated-overlay\">‚ùå</div>\n                  )}\n                </div>\n                <div className=\"player-info\">\n                  <span className=\"player-name\">{player.nickname}</span>\n                  <span className=\"player-score\">{player.score}Ï†ê</span>\n                  {player.team && (\n                    <span className=\"player-team\">{player.team}ÌåÄ</span>\n                  )}\n                </div>\n              </div>\n            ))}\n            \n            {players.length === 0 && (\n              <div className=\"no-players\">\n                <p>ÏïÑÏßÅ Ï∞∏Ïó¨ÏûêÍ∞Ä ÏóÜÏäµÎãàÎã§</p>\n                <small>Î∞© ÏΩîÎìú: <strong>{room.code}</strong></small>\n              </div>\n            )}\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default NewGameHost;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}